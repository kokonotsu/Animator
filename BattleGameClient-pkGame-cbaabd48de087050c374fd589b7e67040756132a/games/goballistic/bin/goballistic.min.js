var __reflect=this&&this.__reflect||function(e,a,t){e.__class__=a,t?t.push(a):t=[a],e.__types__=e.__types__?t.concat(e.__types__):t},__extends=this&&this.__extends||function(e,a){function t(){this.constructor=e}for(var i in a)a.hasOwnProperty(i)&&(e[i]=a[i]);t.prototype=a.prototype,e.prototype=new t},GameGoBallisticArtificialts=function(){function e(){var a=this;if(this.walkSwitcher=!0,this.tauntSwitcher=!1,this.walk=function(){0!=GameGoBallisticItemClass.instance.isRuning&&0!=a.walkSwitcher&&App.MessageCenter.dispatch("local",GameGoBallisticEventClass.instance.GOB_EVENT_WALK+"|l")},this.taunt=function(){0!=GameGoBallisticItemClass.instance.isRuning&&0!=a.tauntSwitcher&&App.MessageCenter.dispatch("local",GameGoBallisticEventClass.instance.GOB_EVENT_TAUNT+"|l")},e.instance=this,App.IsXiaoMi){var t=GameGoBallisticMainScene.instance.AiConf[App.CurrGameAiLevel];console.log(">>>>> conf: ",t.n,t.x,t.m),this.clickInterval=App.RandomUtils.limitInteger(t.n,t.x),this.mistake=t.m}else switch(App.CurrGameAiLevel){case 1:this.clickInterval=App.RandomUtils.limitInteger(200,220),this.mistake=.1;break;case 2:this.clickInterval=App.RandomUtils.limitInteger(180,200),this.mistake=.2;break;case 3:this.clickInterval=App.RandomUtils.limitInteger(160,175),this.mistake=.4;break;case 4:this.clickInterval=App.RandomUtils.limitInteger(130,150),this.mistake=.7;break;case 5:this.clickInterval=App.RandomUtils.limitInteger(100,110),this.mistake=1}}return e}();__reflect(GameGoBallisticArtificialts.prototype,"GameGoBallisticArtificialts");var Gob_role=function(e){function a(a){var t=e.call(this)||this;switch(t.scale=.00425,t.localPosNum=0,t.nCounter=0,t.qCounter=0,t.wCounter=1,t.tCounter=1,t.walkType=["_walk1","_walk2"],t.soundChannel1=new SoundEffects,t.numManager=function(e){switch(e){case"nCounter":return t.nCounter>=2?t.nCounter=0:t.nCounter+=1,t.nCounter;case"qCounter":return t.qCounter>=2?t.qCounter=0:t.qCounter+=1,t.qCounter;case"wCounter":return 1==t.wCounter?t.wCounter=2:2==t.wCounter&&(t.wCounter=1),t.wCounter;case"tCounter":return 1==t.tCounter?t.tCounter=2:2==t.tCounter&&(t.tCounter=1),t.tCounter}},t.normalWalk=function(){t.source="Gob_role"+t.color+App.RandomUtils.randomArray(t.walkType)+t.numManager("nCounter")+"_png",t.scaleX>1||(t.x+=t.xSBS,t.y+=t.ySBS,t.scaleX+=t.scale,t.scaleY+=t.scale)},t.reset2normal=function(){t.source="Gob_role"+t.color+"_walk1"+t.nCounter.toString()+"_png"},t.reset2dumbfounded=function(){t.source="Gob_role"+t.color+"_dumbfounded_png"},t.taunt=function(){"Blue"==t.color&&t.soundChannel1.play("Gob_showOff_mp3"),t.source="Gob_role"+t.color+"_taunt"+t.numManager("tCounter")+"_png"},t.dumbfounded=function(){App.TimerManager.remove(t.reset2normal,t),t.source="Gob_role"+t.color+"_dumbfounded_png"},t.quickWalk=function(){t.source="Gob_role"+t.color+"_qwalk"+t.numManager("qCounter")+"_png",t.scaleX>1||(t.x+=t.xSBS,t.y+=t.ySBS,t.scaleX+=t.scale,t.scaleY+=t.scale)},t.win=function(){App.TimerManager.doTimer(500,0,function(){try{t.source="Gob_role"+t.color+"_win"+t.numManager("wCounter")+"_png"}catch(e){console.log(e)}},t)},t.behit=function(){"Blue"==t.color&&t.soundChannel1.play("Gob_jeer_mp3"),App.TimerManager.remove(t.reset2dumbfounded,t),App.TimerManager.doTimer(120,1,t.reset2dumbfounded,t),t.source="Gob_role"+t.color+"_behit_png",t.scaleX<.15||(t.x-=2*t.xSBS,t.y-=2*t.ySBS,t.scaleX-=2*t.scale,t.scaleY-=2*t.scale)},t.dispose=function(){App.TimerManager.removeAll(t)},t.soundChannel1.setVolume(.7),a){case"Red":t.source="Gob_roleRed_stand_png",t.x=340,t.xSBS=.645;break;case"Blue":t.source="Gob_roleBlue_stand_png",t.x=300,t.xSBS=-.685}return t.color=a,t.ySBS=2.415,t.y=374,t.anchorOffsetX=194.5,t.anchorOffsetY=556,t.scaleX=.15,t.scaleY=.15,t}return __extends(a,e),a}(eui.Image);__reflect(Gob_role.prototype,"Gob_role");var flyingItem=function(e){function a(a){var t=e.call(this)||this;t.soundChannel=new SoundEffects,t.itemClass=["Gob_item_book1_png","Gob_item_book2_png","Gob_item_book3_png","Gob_item_book4_png","Gob_item_eraser1_png","Gob_item_eraser2_png","Gob_item_eraser3_png","Gob_item_eraser4_png"],t.soundChannel.setVolume(.7),t.source=App.RandomUtils.randomArray(t.itemClass),t.anchorOffsetX=.5*t.width,t.anchorOffsetY=.5*t.height,t.rotation=App.RandomUtils.limitInteger(0,360),t.x=320,t.y=800,GameGoBallisticMainScene.instance.Gob_group_flyingItem.addChild(t);var i=egret.Tween.get(t);switch(a){case"blue":i.to({x:GameGoBallisticItemClass.instance.roleBlue.x,y:GameGoBallisticItemClass.instance.roleBlue.y-.2*GameGoBallisticItemClass.instance.roleBlue.height,scaleX:GameGoBallisticItemClass.instance.roleBlue.scaleX,scaleY:GameGoBallisticItemClass.instance.roleBlue.scaleY},120);break;case"red":i.to({x:GameGoBallisticItemClass.instance.roleRed.x,y:GameGoBallisticItemClass.instance.roleRed.y-.2*GameGoBallisticItemClass.instance.roleRed.height,scaleX:GameGoBallisticItemClass.instance.roleRed.scaleX,scaleY:GameGoBallisticItemClass.instance.roleRed.scaleY},120)}return i.call(function(){t.soundChannel.play("Gob_beHit_mp3"),GameGoBallisticMainScene.instance.Gob_group_flyingItem.removeChild(t),i=null}),t}return __extends(a,e),a}(eui.Image);__reflect(flyingItem.prototype,"flyingItem");var GameGoBallisticEventClass=function(){function e(){this.GOB_EVENT_READY="r",this.GOB_EVENT_WALK="w",this.GOB_EVENT_TAUNT="t",this.GOB_EVENT_DUMBFOUNDED="d",this.GOB_EVENT_SCORE="s",this.messageCenter=function(a,t){switch(void 0===t&&(t=""),a){case e.instance.GOB_EVENT_READY:switch(GameGoBallisticItemClass.instance.isOffline){case!1:App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,e.instance.GOB_EVENT_READY,1)}break;case e.instance.GOB_EVENT_WALK:switch(GameGoBallisticItemClass.instance.isOffline){case!0:App.MessageCenter.dispatch("local",e.instance.GOB_EVENT_WALK+"|m");break;case!1:App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,e.instance.GOB_EVENT_WALK+"|"+(GameGoBallisticItemClass.instance.blueScore+1).toString()+"|"+GameGoBallisticItemClass.instance.redScore,1)}break;case e.instance.GOB_EVENT_DUMBFOUNDED:switch(GameGoBallisticItemClass.instance.isOffline){case!0:App.MessageCenter.dispatch("local",e.instance.GOB_EVENT_DUMBFOUNDED+"|m");break;case!1:App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,e.instance.GOB_EVENT_DUMBFOUNDED,1)}break;case e.instance.GOB_EVENT_TAUNT:switch(GameGoBallisticItemClass.instance.isOffline){case!0:App.MessageCenter.dispatch("local",e.instance.GOB_EVENT_TAUNT+"|m");break;case!1:App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,e.instance.GOB_EVENT_TAUNT+"|"+GameGoBallisticItemClass.instance.blueScore+"|"+(GameGoBallisticItemClass.instance.redScore-2).toString(),1)}break;default:console.log("illegal messageCenter msg!!!")}},this.messageDeal=function(a){var t;switch(GameGoBallisticItemClass.instance.isOffline){case!0:t=a.split("|");break;case!1:t=a.event.split("|")}if(1==GameGoBallisticItemClass.instance.isOffline){if("l"==t[1])switch(t[0]){case e.instance.GOB_EVENT_WALK:GameGoBallisticLogic.instance.walking(1);break;case e.instance.GOB_EVENT_TAUNT:GameGoBallisticLogic.instance.taunt(1)}else if("m"==t[1])switch(t[0]){case e.instance.GOB_EVENT_WALK:GameGoBallisticLogic.instance.walking(0);break;case e.instance.GOB_EVENT_TAUNT:GameGoBallisticLogic.instance.taunt(0)}}else switch(t[0]){case e.instance.GOB_EVENT_READY:switch(a.userId.toString()){case DataCenter.instance.user.id.toString():GameGoBallisticItemClass.instance.readyState[0]=1;break;case DataCenter.instance.room.player.id.toString():GameGoBallisticItemClass.instance.readyState[1]=1}break;case e.instance.GOB_EVENT_WALK:switch(a.userId.toString()){case DataCenter.instance.user.id.toString():GameGoBallisticLogic.instance.walking(0);break;case DataCenter.instance.room.player.id.toString():GameGoBallisticLogic.instance.walking(1),parseInt(t[1])!=GameGoBallisticItemClass.instance.redScore&&(GameGoBallisticItemClass.instance.redScore=parseInt(t[1]),GameGoBallisticMainScene.instance.Label_redScore.text=GameGoBallisticItemClass.instance.redScore.toString()),parseInt(t[2])!=GameGoBallisticItemClass.instance.blueScore&&(GameGoBallisticItemClass.instance.blueScore=parseInt(t[2]),GameGoBallisticMainScene.instance.Label_blueScore.text=GameGoBallisticItemClass.instance.blueScore.toString())}break;case e.instance.GOB_EVENT_TAUNT:switch(a.userId.toString()){case DataCenter.instance.user.id.toString():GameGoBallisticLogic.instance.taunt(0);break;case DataCenter.instance.room.player.id.toString():GameGoBallisticLogic.instance.taunt(1),parseInt(t[1])!=GameGoBallisticItemClass.instance.redScore&&(GameGoBallisticItemClass.instance.redScore=parseInt(t[1]),GameGoBallisticMainScene.instance.Label_redScore.text=GameGoBallisticItemClass.instance.redScore.toString()),parseInt(t[2])!=GameGoBallisticItemClass.instance.blueScore&&(GameGoBallisticItemClass.instance.blueScore=parseInt(t[2]),GameGoBallisticMainScene.instance.Label_blueScore.text=GameGoBallisticItemClass.instance.blueScore.toString())}}},this.resultDeal=function(a){egret.clearInterval(GameGoBallisticLogic.instance.walkStartTick),egret.clearInterval(GameGoBallisticLogic.instance.tauntStartTick),GameGoBallisticItemClass.instance.isRuning=!1,GameGoBallisticItemClass.instance.stopSoundEffect.setVolume(0),GameGoBallisticItemClass.instance.roleBlue.soundChannel1.setVolume(0),GameGoBallisticItemClass.instance.roleRed.soundChannel1.setVolume(0),App.MessageCenter.removeListener("local",e.instance.messageDeal,e.instance),App.MessageCenter.removeListener(EventMessage.ReceiveGameEventS2C,e.instance.messageDeal,e.instance),GameGoBallisticMainScene.instance.Gob_btn_run.visible=!1,GameGoBallisticMainScene.instance.Gob_btn_showoff.visible=!1,GameGoBallisticMainScene.instance.Gob_btn_run.alpha=0,GameGoBallisticMainScene.instance.Gob_btn_showoff.alpha=0,App.TimerManager.remove(GameGoBallisticLogic.instance.bossCheckBoth,GameGoBallisticLogic.instance),1==GameGoBallisticItemClass.instance.isOffline&&(GameGoBallisticArtificialts.instance.tauntSwitcher=!1,GameGoBallisticArtificialts.instance.walkSwitcher=!1,App.TimerManager.remove(GameGoBallisticArtificialts.instance.taunt,GameGoBallisticArtificialts.instance),App.TimerManager.remove(GameGoBallisticArtificialts.instance.walk,GameGoBallisticArtificialts.instance)),GameGoBallisticMainScene.instance.Gob_btn_run.visible=!1,GameGoBallisticMainScene.instance.Gob_btn_showoff.visible=!1,App.TimerManager.removeAll(GameGoBallisticLogic.instance),egret.Tween.removeAllTweens(),GameGoBallisticLogic.instance.DBCtrlor(6),a.winUserId.toString()==DataCenter.instance.user.id.toString()?GameGoBallisticMainScene.instance.showResult(3):GameGoBallisticMainScene.instance.showResult(1),App.TimerManager.doTimer(2e3,1,function(){DataCenter.instance.room.gameResult=a,GameGoBallisticMainScene.instance.popup("GameResult",null)},GameGoBallisticMainScene.instance)},e.instance=this}return e}();__reflect(GameGoBallisticEventClass.prototype,"GameGoBallisticEventClass");var GameGoBallisticItemClass=function(){function e(){this.state=0,this.blueScore=0,this.redScore=0,this.readyState=[0,0],this.bothState=[0,0],this.isOffline=!1,this.multiple=1,this.stopSoundEffect=new SoundEffects,this.isRuning=!1,e.instance=this,this.stopSoundEffect.setVolume(.7)}return e}();__reflect(GameGoBallisticItemClass.prototype,"GameGoBallisticItemClass");var GameGoBallisticLogic=function(){function e(){var a=this;this.dispose=function(){egret.clearInterval(a.walkStartTick),egret.clearInterval(a.tauntStartTick)},this.bossCheckBoth=function(){null!=GameGoBallisticItemClass.instance&&0!=GameGoBallisticItemClass.instance.isRuning&&(1==GameGoBallisticItemClass.instance.bothState[0]&&1==GameGoBallisticItemClass.instance.bothState[1]?(a.DBCtrlor(2),1==GameGoBallisticItemClass.instance.isOffline&&(GameGoBallisticArtificialts.instance.walkSwitcher=!1,a.walkStartTick=egret.setInterval(function(){null!=GameGoBallisticItemClass.instance&&0!=GameGoBallisticItemClass.instance.isRuning&&0==GameGoBallisticItemClass.instance.state&&(egret.clearInterval(a.walkStartTick),GameGoBallisticArtificialts.instance.walkSwitcher=!0)},e.instance,50))):0==GameGoBallisticItemClass.instance.bothState[0]&&1==GameGoBallisticItemClass.instance.bothState[1]?(a.DBCtrlor(4),GameGoBallisticMainScene.instance.Gob_btn_showoff.visible=!0,1==GameGoBallisticItemClass.instance.isOffline&&(GameGoBallisticArtificialts.instance.walkSwitcher=!1,a.walkStartTick=egret.setInterval(function(){null!=GameGoBallisticItemClass.instance&&0!=GameGoBallisticItemClass.instance.isRuning&&0==GameGoBallisticItemClass.instance.state&&(egret.clearInterval(a.walkStartTick),1==GameGoBallisticItemClass.instance.isOffline&&(GameGoBallisticArtificialts.instance.walkSwitcher=!0),GameGoBallisticMainScene.instance.Gob_btn_showoff.visible=!1)},e.instance,50))):1==GameGoBallisticItemClass.instance.bothState[0]&&0==GameGoBallisticItemClass.instance.bothState[1]&&(a.DBCtrlor(3),1==GameGoBallisticItemClass.instance.isOffline&&(GameGoBallisticArtificialts.instance.tauntSwitcher=!0),a.tauntStartTick=egret.setInterval(function(){null!=GameGoBallisticItemClass.instance&&0!=GameGoBallisticItemClass.instance.isRuning&&0==GameGoBallisticItemClass.instance.state&&(egret.clearInterval(a.tauntStartTick),1==GameGoBallisticItemClass.instance.isOffline&&(GameGoBallisticArtificialts.instance.tauntSwitcher=!1,GameGoBallisticArtificialts.instance.walkSwitcher=!0),GameGoBallisticMainScene.instance.Gob_btn_showoff.visible=!1)},e.instance,50)))},this.taunt=function(e){var a,t;switch(e){case 0:a=GameGoBallisticItemClass.instance.roleBlue,t=GameGoBallisticItemClass.instance.roleRed,GameGoBallisticItemClass.instance.redScore>=2?GameGoBallisticItemClass.instance.redScore-=2:GameGoBallisticItemClass.instance.redScore=0,GameGoBallisticMainScene.instance.Label_redScore.text=GameGoBallisticItemClass.instance.redScore.toString();break;case 1:a=GameGoBallisticItemClass.instance.roleRed,t=GameGoBallisticItemClass.instance.roleBlue,GameGoBallisticItemClass.instance.blueScore>=2?GameGoBallisticItemClass.instance.blueScore-=2:GameGoBallisticItemClass.instance.blueScore=0,GameGoBallisticMainScene.instance.Label_blueScore.text=GameGoBallisticItemClass.instance.blueScore.toString()}switch(a.taunt(),t.behit(),e){case 0:new flyingItem("red");break;case 1:new flyingItem("blue")}},this.walking=function(t){var i;switch(t){case 0:i=GameGoBallisticItemClass.instance.roleBlue;break;case 1:i=GameGoBallisticItemClass.instance.roleRed}switch(GameGoBallisticItemClass.instance.state){case 0:switch(t){case 0:GameGoBallisticItemClass.instance.blueScore>=170&&GameGoBallisticItemClass.instance.blueScore<200?(i.quickWalk(),GameGoBallisticItemClass.instance.blueScore+=1):GameGoBallisticItemClass.instance.blueScore<200&&(i.normalWalk(),GameGoBallisticItemClass.instance.blueScore+=1),GameGoBallisticMainScene.instance.Label_blueScore.text=GameGoBallisticItemClass.instance.blueScore.toString(),GameGoBallisticItemClass.instance.blueScore>=200&&(GameGoBallisticMainScene.instance.Gob_btn_run.touchEnabled=!1,GameGoBallisticMainScene.instance.Gob_btn_showoff.touchEnabled=!1,a.gameOver(3));break;case 1:GameGoBallisticItemClass.instance.redScore>=170&&GameGoBallisticItemClass.instance.redScore<200?(i.quickWalk(),GameGoBallisticItemClass.instance.redScore+=1):GameGoBallisticItemClass.instance.redScore<200&&(i.normalWalk(),GameGoBallisticItemClass.instance.redScore+=1),GameGoBallisticMainScene.instance.Label_redScore.text=GameGoBallisticItemClass.instance.redScore.toString(),GameGoBallisticItemClass.instance.redScore>=200&&(GameGoBallisticMainScene.instance.Gob_btn_run.touchEnabled=!1,GameGoBallisticMainScene.instance.Gob_btn_showoff.touchEnabled=!1,a.gameOver(1))}break;case 1:switch(GameGoBallisticMainScene.instance.Gob_btn_run.visible=!1,App.TimerManager.remove(e.instance.gamingTick,GameGoBallisticMainScene.instance),App.TimerManager.doTimer(200,1,function(){0!=GameGoBallisticItemClass.instance.isRuning&&e.instance.bossCheckBoth()},e.instance),t){case 0:GameGoBallisticItemClass.instance.bothState[0]=1,App.TimerManager.remove(a.blueReset,e.instance),App.TimerManager.doTimer(2e3,1,a.blueReset,e.instance);break;case 1:GameGoBallisticItemClass.instance.bothState[1]=1,App.TimerManager.remove(a.redReset,e.instance),App.TimerManager.doTimer(2e3,1,a.redReset,e.instance)}i.dumbfounded(),App.TimerManager.doTimer(1e3,1,function(){0!=GameGoBallisticItemClass.instance.isRuning&&App.TimerManager.doTimer(1e3,0,e.instance.gamingTick,GameGoBallisticMainScene.instance)},e.instance),App.TimerManager.doTimer(1950,1,function(){0!=GameGoBallisticItemClass.instance.isRuning&&(GameGoBallisticItemClass.instance.state=0,GameGoBallisticMainScene.instance.Gob_btn_showoff.visible=!1,GameGoBallisticItemClass.instance.roleBlue.reset2normal(),GameGoBallisticItemClass.instance.roleRed.reset2normal())},e.instance)}},this.blueReset=function(){0!=GameGoBallisticItemClass.instance.isRuning&&(GameGoBallisticItemClass.instance.roleBlue.reset2normal(),GameGoBallisticMainScene.instance.Gob_btn_run.visible=!0,GameGoBallisticItemClass.instance.bothState[0]=0)},this.redReset=function(){0!=GameGoBallisticItemClass.instance.isRuning&&(GameGoBallisticItemClass.instance.roleRed.reset2normal(),GameGoBallisticMainScene.instance.Gob_btn_run.visible=!0,GameGoBallisticItemClass.instance.bothState[1]=0)},this.btnRunClick=function(){GameGoBallisticMainScene.instance.Gob_btn_run.touchEnabled=!1,GameGoBallisticEventClass.instance.messageCenter(GameGoBallisticEventClass.instance.GOB_EVENT_WALK),App.TimerManager.doTimer(80,1,function(){0!=GameGoBallisticItemClass.instance.isRuning&&(GameGoBallisticMainScene.instance.Gob_btn_run.touchEnabled=!0)},e.instance)},this.btnShowoffClick=function(){GameGoBallisticMainScene.instance.Gob_btn_run.touchEnabled=!1,GameGoBallisticEventClass.instance.messageCenter(GameGoBallisticEventClass.instance.GOB_EVENT_TAUNT),App.TimerManager.doTimer(80,1,function(){0!=GameGoBallisticItemClass.instance.isRuning&&(GameGoBallisticMainScene.instance.Gob_btn_run.touchEnabled=!0)},e.instance)},this.readyTick=function(){if(0==GameGoBallisticItemClass.instance.isOffline){if(1==GameGoBallisticItemClass.instance.readyState[0]&&1==GameGoBallisticItemClass.instance.readyState[1])return GameGoBallisticItemClass.instance.readyState[0]=0,GameGoBallisticItemClass.instance.readyState[1]=0,egret.stopTick(e.instance.readyTick,GameGoBallisticMainScene.instance),GameGoBallisticMainScene.instance.gameRdy(),!1}else 1==GameGoBallisticItemClass.instance.isOffline&&(egret.stopTick(e.instance.readyTick,GameGoBallisticMainScene.instance),App.TimerManager.doTimer(2345,1,function(){0!=GameGoBallisticItemClass.instance.isRuning&&GameGoBallisticMainScene.instance.gameRdy()},a));return!1},this.gamingTick=function(){if(0!=GameGoBallisticItemClass.instance.isRuning){var e=GameGoBallisticMainScene.instance.random();e>0&&.75>e?(GameGoBallisticMainScene.instance.Gob_group_boss.visible=!0,GameGoBallisticItemClass.instance.state=0,GameGoBallisticMainScene.instance.Img_stop.visible=!1,a.DBCtrlor(0)):e>=.75&&1>=e&&(GameGoBallisticMainScene.instance.Gob_group_boss.visible=!0,GameGoBallisticItemClass.instance.state=1,GameGoBallisticMainScene.instance.Img_stop.visible=!0,GameGoBallisticItemClass.instance.stopSoundEffect.play("Gob_stop_mp3",!0),1==GameGoBallisticItemClass.instance.isOffline&&(Math.random()>GameGoBallisticArtificialts.instance.mistake?App.TimerManager.doTimer(100,1,function(){0!=GameGoBallisticItemClass.instance.isRuning&&a.walking(1)},GameGoBallisticArtificialts.instance):GameGoBallisticArtificialts.instance.walkSwitcher=!1),a.DBCtrlor(5))}},this.DBCtrlor=function(e){switch(e){case 0:GameGoBallisticItemClass.instance.roleBoss.stop(),GameGoBallisticItemClass.instance.roleBoss.play("normal",0);break;case 1:GameGoBallisticItemClass.instance.roleBoss.stop(),GameGoBallisticItemClass.instance.roleBoss.play("quick",0);break;case 2:GameGoBallisticItemClass.instance.roleBoss.stop(),GameGoBallisticItemClass.instance.roleBoss.play("pointAll",0);break;case 3:GameGoBallisticItemClass.instance.roleBoss.stop(),GameGoBallisticItemClass.instance.roleBoss.play("pointLeft",0);break;case 4:GameGoBallisticItemClass.instance.roleBoss.stop(),GameGoBallisticItemClass.instance.roleBoss.play("pointRight",0);break;case 5:GameGoBallisticItemClass.instance.roleBoss.stop(),GameGoBallisticItemClass.instance.roleBoss.play("point",0);break;case 6:GameGoBallisticItemClass.instance.roleBoss.stop()}},e.instance=this}return e.prototype.gameOver=function(a){e.instance.dispose(),GameGoBallisticItemClass.instance.stopSoundEffect.setVolume(0),GameGoBallisticItemClass.instance.roleBlue.soundChannel1.setVolume(0),GameGoBallisticItemClass.instance.roleRed.soundChannel1.setVolume(0),App.MessageCenter.removeListener("local",GameGoBallisticEventClass.instance.messageDeal,GameGoBallisticEventClass.instance),App.MessageCenter.removeListener(EventMessage.ReceiveGameEventS2C,GameGoBallisticEventClass.instance.messageDeal,GameGoBallisticEventClass.instance),GameGoBallisticMainScene.instance.Gob_btn_run.alpha=0,GameGoBallisticMainScene.instance.Gob_btn_showoff.alpha=0,App.TimerManager.remove(e.instance.bossCheckBoth,e.instance),1==GameGoBallisticItemClass.instance.isOffline&&(GameGoBallisticArtificialts.instance.tauntSwitcher=!1,GameGoBallisticArtificialts.instance.walkSwitcher=!1,App.TimerManager.remove(GameGoBallisticArtificialts.instance.taunt,GameGoBallisticArtificialts.instance),App.TimerManager.remove(GameGoBallisticArtificialts.instance.walk,GameGoBallisticArtificialts.instance)),App.TimerManager.removeAll(GameGoBallisticArtificialts.instance),GameGoBallisticItemClass.instance.roleBoss.visible=!1,GameGoBallisticMainScene.instance.Gob_btn_run.visible=!1,GameGoBallisticMainScene.instance.Gob_btn_showoff.visible=!1,this.DBCtrlor(6),App.TimerManager.removeAll(e.instance),App.MessageCenter.dispatch(EventMessage.SendGameResultC2S,a)},e}();__reflect(GameGoBallisticLogic.prototype,"GameGoBallisticLogic");var GameGoBallisticMainScene=function(e){function a(){var t=e.call(this,GameGoBallisticMainSkin)||this;return t.AiConf={},t.gameInit=function(){App.MessageCenter.addListener(EventMessage.ReceiveGameEventS2C,GameGoBallisticEventClass.instance.messageDeal,GameGoBallisticEventClass.instance),App.MessageCenter.addListener(EventMessage.ReceiveGameResultS2C,GameGoBallisticEventClass.instance.resultDeal,GameGoBallisticEventClass.instance),GameGoBallisticItemClass.instance.roleBoss=AssetManager.getDBArmature("Gob_boss"),GameGoBallisticItemClass.instance.roleBoss.x=.5*GameGoBallisticItemClass.instance.roleBoss.width,GameGoBallisticItemClass.instance.roleBoss.y=160,GameGoBallisticItemClass.instance.roleBoss.alpha=0,t.Gob_group_boss.addChild(GameGoBallisticItemClass.instance.roleBoss),GameGoBallisticItemClass.instance.roleBlue=new Gob_role("Blue"),t.Gob_group_roles.addChild(GameGoBallisticItemClass.instance.roleBlue),GameGoBallisticItemClass.instance.roleRed=new Gob_role("Red"),t.Gob_group_roles.addChild(GameGoBallisticItemClass.instance.roleRed),t.Gob_btn_run.addEventListener("touchTap",GameGoBallisticLogic.instance.btnRunClick,a.instance),t.Gob_btn_showoff.addEventListener("touchTap",GameGoBallisticLogic.instance.btnShowoffClick,a.instance),t.w8img=AssetManager.getBitmap("Gob_w8_png",!0,!1),t.w8img.x=320,t.w8img.y=784,t.addChild(t.w8img);var e=new RoleHeadImage(DataCenter.instance.user.imgUrl,"tou_png",67,67);e.x=0,e.y=0,t.Gob_group_blueHead.addChild(e);var i=new RoleHeadImage(DataCenter.instance.room.player.imgUrl,"tou_png",67,67);if(i.x=0,i.y=0,t.Gob_group_redHead.addChild(i),t.Img_blackMask.visible=!0,egret.startTick(GameGoBallisticLogic.instance.readyTick,a.instance),GameGoBallisticEventClass.instance.messageCenter(GameGoBallisticEventClass.instance.GOB_EVENT_READY),t.stage.stageHeight<1136){GameGoBallisticItemClass.instance.multiple=t.stage.stageHeight/1136,t.scaleX=GameGoBallisticItemClass.instance.multiple,t.scaleY=GameGoBallisticItemClass.instance.multiple;var s=640*GameGoBallisticItemClass.instance.multiple;t.x=(640-s)/2}else t.stage.stageHeight>1136&&(t.y=(t.stage.stageHeight-1136)/2);var n=egret.Tween.get(t.Img_isYou,{loop:!0});n.to({y:420},600).to({y:390},600),App.TimerManager.doTimer(3600,1,function(){0!=GameGoBallisticItemClass.instance.isRuning&&(egret.Tween.removeTweens(t.Img_isYou),t.Img_isYou.visible=!1)},a.instance)},t.gameRdy=function(){t.rdy=new GameReady(function(){t.gameStart()}),t.Img_blackMask.visible=!1,t.removeChild(a.instance.w8img),t.rdy.x=320,t.rdy.y=568,t.rdy.play(),t.Gob_group_all.addChild(t.rdy)},t.gameStart=function(){GameGoBallisticItemClass.instance.roleBoss.alpha=1,App.TimerManager.doTimer(1e3,0,GameGoBallisticLogic.instance.gamingTick,a.instance),t.Gob_btn_run.visible=!0,1==GameGoBallisticItemClass.instance.isOffline&&(App.TimerManager.doTimer(GameGoBallisticArtificialts.instance.clickInterval,0,GameGoBallisticArtificialts.instance.taunt,GameGoBallisticArtificialts.instance),App.TimerManager.doTimer(GameGoBallisticArtificialts.instance.clickInterval,0,GameGoBallisticArtificialts.instance.walk,GameGoBallisticArtificialts.instance))},t.showResult=function(e){t.Img_blackMask.visible=!0,t.Img_light.visible=!0;var a=egret.Tween.get(t.Img_light,{loop:!0});switch(a.to({rotation:180},1500).to({rotation:360},1500),e){case 3:t.Img_result.source="Gob_win_png",GameGoBallisticItemClass.instance.roleBlue.win();break;case 1:t.Img_result.source="Gob_lose_png",GameGoBallisticItemClass.instance.roleRed.win()}t.Img_result.visible=!0},a.instance=t,App.IsXiaoMi?App.MessageCenter.dispatch(EventMessage.GetDataC2S,function(e){a.instance.AiConf=e,new GameGoBallisticArtificialts}):new GameGoBallisticArtificialts,new GameGoBallisticItemClass,new GameGoBallisticEventClass,new GameGoBallisticLogic,DataCenter.instance.room.IsAI&&(GameGoBallisticItemClass.instance.isOffline=!0,App.MessageCenter.addListener("local",GameGoBallisticEventClass.instance.messageDeal,a.instance)),t}return __extends(a,e),a.prototype.init=function(){e.prototype.init.call(this),GameGoBallisticItemClass.instance.isRuning=!0,this.random=new Math.seedrandom(DataCenter.instance.room.id.toString()),this.gameInit(),App.SoundManager.playBg("bgm_mp3")},a.prototype.dispose=function(){GameGoBallisticItemClass.instance.isRuning=!1,GameGoBallisticLogic.instance.dispose(),e.prototype.dispose.call(this),egret.stopTick(GameGoBallisticLogic.instance.readyTick,this),GameGoBallisticLogic.instance.dispose(),App.TimerManager.removeAll(GameGoBallisticLogic.instance),App.TimerManager.removeAll(a.instance),App.TimerManager.removeAll(GameGoBallisticLogic.instance),App.TimerManager.removeAll(GameGoBallisticArtificialts.instance),App.MessageCenter.removeAll(a.instance),App.MessageCenter.removeAll(GameGoBallisticEventClass.instance),egret.Tween.removeAllTweens(),GameGoBallisticItemClass.instance.roleBoss.stop(),this.rdy&&(this.rdy.dispose(),this.rdy=void 0),GameGoBallisticItemClass.instance=null,GameGoBallisticEventClass.instance=null,GameGoBallisticLogic.instance=null,App.SoundManager.stopBg()},a}(StateEui);__reflect(GameGoBallisticMainScene.prototype,"GameGoBallisticMainScene");