var __reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);i.prototype=t.prototype,e.prototype=new i},LameDeskmateMainView=function(e){function t(){var t=e.call(this,GameLameDeskmateMainSkin)||this;return t.daodanActionTimeout=0,t.oneselfNum=1,t.gameStartBool=!1,t.gameLastTime=60,t.teacherActionTime=0,t.yujingIsPlay=!1,t.xiaoIsPlay=!1,t.nuIsPlay=!1,t.teachersAniIndex=0,t.currAmiIndex=0,t.oneselfBeFound=!1,t.otherBeFound=!1,t.waitTime=0,t.resultPageFun=function(){t.resultGroup.visible=!0,t.resultGroup.scaleX=t.resultGroup.scaleY=.3,t.waitTime=App.IsXiaoMi?200:1200,egret.Tween.get(t.resultGroup).to({scaleX:1,scaleY:1},300,egret.Ease.bounceOut).wait(t.waitTime).call(function(){t.popup("GameResult",null)})},t.lameDeskmateModel=new LameDeskmateModel,t.LameDeskmateSantaModel=new LameDeskmateSantaModel,t.teachersAniIndex=0,t}return __extends(t,e),t.prototype.init=function(){var i=this;e.prototype.init.call(this);var a=App.GameWidth/t.GAME_WIDTH,s=App.GameHeight/t.GAME_HEIGHT,o=Math.min(a,s);this.containerGroup.scaleX=this.containerGroup.scaleY=o,this.containerGroup.x=.5*(App.GameWidth-t.GAME_WIDTH*o),this.containerGroup.y=.5*(App.GameHeight-t.GAME_HEIGHT*o),App.SoundManager.stopBg(),this.lameDeskmateEffect=new SoundEffects,this.lameDeskmateEffect.setVolume(1),this.lameDeskmateCommonEffect=new SoundEffects,this.lameDeskmateCommonEffect.setVolume(1),egret.lifecycle.onPause=function(){i.lameDeskmateEffect&&(i.lameDeskmateEffect.setVolume(0),App.SoundManager.setBgOn(!1),App.SoundManager.setEffectOn(!1)),i.lameDeskmateCommonEffect&&i.lameDeskmateCommonEffect.setVolume(0)},egret.lifecycle.onResume=function(){i.lameDeskmateEffect&&(i.lameDeskmateEffect.setVolume(1),App.SoundManager.setBgOn(!0),App.SoundManager.setEffectOn(!0)),i.lameDeskmateCommonEffect&&i.lameDeskmateCommonEffect.setVolume(1)},this.btnsVisibleOrTouchEnabled(!1,!1),this.goBackBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){i.popup("GameSureLeave")},this),this.daodanBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.daodanBtnHandler,this),this.chaofengBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.chaofengBtnHandler,this),(App.IsXiaoMi||App.IsWanba)&&(this.goBackBtn.visible=!1,this.goBackBtn.touchEnabled=!1),this.myHeadImage&&(this.myHeadImage.dispose(),this.myHeadImage=null),this.myHeadImage=new RoleHeadImage(DataCenter.instance.user.imgUrl,"tou_png",60,60),this.otherHeadImage&&(this.otherHeadImage.dispose(),this.otherHeadImage=null),this.otherHeadImage=new RoleHeadImage(DataCenter.instance.room.player.imgUrl,"tou_png",60,60),this.resultGroup.visible=!1,this.resultHeadImage&&(this.resultHeadImage.dispose(),this.resultHeadImage=null),this.resultHeadImage=new RoleHeadImage(DataCenter.instance.user.imgUrl,"tou_png",170,170),this.resultMySmallHeadImage&&(this.resultMySmallHeadImage.dispose(),this.resultMySmallHeadImage=null),this.resultMySmallHeadImage=new RoleHeadImage(DataCenter.instance.user.imgUrl,"tou_png",120,120),this.resultOtherSmallHeadImage&&(this.resultOtherSmallHeadImage.dispose(),this.resultOtherSmallHeadImage=null),this.resultOtherSmallHeadImage=new RoleHeadImage(DataCenter.instance.room.player.imgUrl,"tou_png",120,120)},t.prototype.show=function(){var i=this;e.prototype.show.call(this),this.gameStartBool=!1,this.addAllMc(),DataCenter.instance.room.IsAI&&(this.gameRobotAi=new LameDeskmateSantaAI(this,2),LameDeskmateSantaAI.robotAiLv=App.CurrGameAiLevel,this.oneselfNum=1,this.youImg.source="lameDeskMateYouL_png",this.youImg.x=60,this.isMeImg.left=8,App.MessageCenter.dispatch(EventMessage.GetDataC2S,function(e){t.aiConf=e,console.log("IsXiaoMi"+App.CurrGameAiLevel+"   "+JSON.stringify(t.aiConf)),i.playerAvatarAdd()}))},t.prototype.playerAvatarAdd=function(){1==this.oneselfNum?(this.personNameLab1.text=DataCenter.instance.user.name,this.personSexImg1.source=GameCenterGetSexIcon.getSexIconSource(DataCenter.instance.user.sex),this.personNameLab2.text=DataCenter.instance.room.player.name,this.personSexImg2.source=GameCenterGetSexIcon.getSexIconSource(DataCenter.instance.room.player.sex),this.playerAvatarGroup1.addChild(this.myHeadImage),this.myHeadImage.x=0,this.myHeadImage.y=0,this.playerAvatarGroup2.addChild(this.otherHeadImage),this.otherHeadImage.x=0,this.otherHeadImage.y=0):(this.personNameLab1.text=DataCenter.instance.room.player.name,this.personSexImg1.source=GameCenterGetSexIcon.getSexIconSource(DataCenter.instance.room.player.sex),this.personNameLab2.text=DataCenter.instance.user.name,this.personSexImg2.source=GameCenterGetSexIcon.getSexIconSource(DataCenter.instance.user.sex),this.playerAvatarGroup1.addChild(this.otherHeadImage),this.otherHeadImage.x=0,this.otherHeadImage.y=0,this.playerAvatarGroup2.addChild(this.myHeadImage),this.myHeadImage.x=0,this.myHeadImage.y=0),this.gameStart()},t.prototype.gameStart=function(){function e(){this.readyIMG=new GameReady(function(){i()}),this.readyIMG.x=300,this.readyIMG.y=App.GameHeight/2,this.addChild(this.readyIMG),this.readyIMG.play()}var t=this,i=function(){App.SoundManager.playBg("lameDeskMate_bg_mp3"),t.isMeImg.visible=!0,t.oneSelfTween(),t.classStartTween(),t.btnsVisibleOrTouchEnabled(!0,!1),t.guideHandTween(),t.guideTipImg.visible=!0,egret.setTimeout(function(){t.gameStartBool=!0,egret.Tween.removeTweens(t.youImg),t.youImg.visible=!1,egret.Tween.removeTweens(t.classStartImg),t.classStartImg.visible=!1,t.startMatchingTime(),DataCenter.instance.room.IsAI?(t.randomPlaySantaAction(),t.gameRobotAi&&t.gameRobotAi.randomPlayRobotAction()):1==t.oneselfNum&&t.randomPlaySantaAction()},t,2e3)};this.clearTimeoutReadyId=egret.setTimeout(e,this,200)},t.prototype.addMesssgaeListener=function(){e.prototype.addMesssgaeListener.call(this),App.MessageCenter.addListener(EventMessage.ReceiveGameEventS2C,this.onGameEvent,this),App.MessageCenter.addListener(EventMessage.ReceiveGameResultS2C,this.onGameResult,this),App.MessageCenter.addListener(EventMessage.GameLeave,this.onGameleave,this),DataCenter.instance.room.IsAI||(DataCenter.instance.room.player.id>DataCenter.instance.user.id?App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,LameDeskmateModel.GET_HOST_PC+"|"+DataCenter.instance.room.player.id,2):App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,LameDeskmateModel.GET_HOST_PC+"|"+DataCenter.instance.user.id,2))},t.prototype.onGameEvent=function(e){var t=e.event.split("|");switch(t[0]){case LameDeskmateModel.GET_HOST_PC:if(DataCenter.instance.room.IsAI)return;t[1]==DataCenter.instance.user.id?(this.oneselfNum=1,this.youImg.source="lameDeskMateYouL_png",this.youImg.x=60,this.isMeImg.left=8):(this.oneselfNum=2,this.youImg.source="lameDeskMateYouR_png",this.youImg.x=App.GameWidth-60,this.isMeImg.right=8),this.playerAvatarAdd();break;case LameDeskmateModel.EVENT_HIT:if(this.nuIsPlay||this.xiaoIsPlay)return;if(e.userId==DataCenter.instance.user.id)this.lameDeskmateModel.myScore++,this["playerScoreLab"+this.oneselfNum].text=this.lameDeskmateModel.myScore+"",this.arriveScore();else{if(1==this.oneselfNum)return this.lameDeskmateModel.otherScore++,this.playerScoreLab2.text=this.lameDeskmateModel.otherScore+"",this.arriveScore(),void this.playerHitOther(2);this.lameDeskmateModel.otherScore++,this.playerScoreLab1.text=this.lameDeskmateModel.otherScore+"",this.arriveScore(),this.playerHitOther(1)}break;case LameDeskmateModel.EVENT_MAKEFUN:e.userId==DataCenter.instance.user.id?this.makeFunOtherPlayer():(this.lameDeskmateModel.myScore-=2,this.lameDeskmateModel.myScore<=0&&(this.lameDeskmateModel.myScore=0),this["playerScoreLab"+this.oneselfNum].text=this.lameDeskmateModel.myScore+"",this.playerMakeFun(2),1==this.oneselfNum?this.rightStudentAmiPlay(LameDeskmateModel.STATUS_MAKEFUN):this.leftStudentAmiPlay(LameDeskmateModel.STATUS_MAKEFUN));break;case LameDeskmateModel.EVENT_BE_FOUND:egret.clearTimeout(this.clearTimeoutHideBtnsId),egret.clearTimeout(this.clearTimeoutDaodanBtnYanChi),this.xiaoIsPlay=!1,this.teachersNuAmiFun(),e.userId==DataCenter.instance.user.id?1==this.oneselfNum?this.leftStudentAmiPlay(LameDeskmateModel.STATUS_ISSCOLDED):this.rightStudentAmiPlay(LameDeskmateModel.STATUS_ISSCOLDED):(this.otherBeFound=!0,this.oneselfBeFound?(this.rightStudentAmiPlay(LameDeskmateModel.STATUS_ISSCOLDED),this.leftStudentAmiPlay(LameDeskmateModel.STATUS_ISSCOLDED)):(this.btnsVisibleOrTouchEnabled(!1,!0),1==this.oneselfNum?this.rightStudentAmiPlay(LameDeskmateModel.STATUS_ISSCOLDED):this.leftStudentAmiPlay(LameDeskmateModel.STATUS_ISSCOLDED)));break;case LameDeskmateSantaModel.STATUS_TEACHER_YUJING:this.teacherYujingFun();break;case LameDeskmateSantaModel.STATUS_HEADMASTER_YUJING:this.headMasterYujingFun()}},t.prototype.teacherYujingFun=function(){this.yujingIsPlay=!0,DataCenter.instance.room.IsAI&&this.gameRobotAi&&(this.gameRobotAi.clearData(),this.gameRobotAi.santaComeoutHit()),this.teachersAniIndex=1,this.teachersAniMc=this.teacherDaijiMc,this.teachersStatusAmiPlay(this.teachersAniIndex,LameDeskmateSantaModel.STATUS_TEACHER_YUJING,!0)},t.prototype.headMasterYujingFun=function(){this.yujingIsPlay=!0,DataCenter.instance.room.IsAI&&this.gameRobotAi&&(this.gameRobotAi.clearData(),this.gameRobotAi.santaComeoutHit()),this.teachersAniIndex=2,this.teachersStatusAmiPlay(this.teachersAniIndex,LameDeskmateSantaModel.STATUS_HEADMASTER_YUJING,!0)},t.prototype.teachersNuAmiFun=function(){this.lameDeskmateCommonEffect&&this.lameDeskmateCommonEffect.play("christmas_santaCurse_mp3"),1==this.teachersAniIndex?this.teachersStatusAmiPlay(this.teachersAniIndex,LameDeskmateSantaModel.STATUS_TEACHER_NU,!0):2==this.teachersAniIndex&&this.teachersStatusAmiPlay(this.teachersAniIndex,LameDeskmateSantaModel.STATUS_HEADMASTER_NU,!0)},t.prototype.btnsVisibleOrTouchEnabled=function(e,t){this.daodanBtn.visible=e,this.daodanBtn.touchEnabled=e,this.chaofengBtn.visible=t,this.chaofengBtn.touchEnabled=t},t.prototype.makeFunOtherPlayer=function(){this.lameDeskmateModel.otherScore-=2,this.lameDeskmateModel.otherScore<=0&&(this.lameDeskmateModel.otherScore=0),1==this.oneselfNum?(this.playerScoreLab2.text=this.lameDeskmateModel.otherScore+"",this.leftStudentAmiPlay(LameDeskmateModel.STATUS_MAKEFUN)):(this.playerScoreLab1.text=this.lameDeskmateModel.otherScore+"",this.rightStudentAmiPlay(LameDeskmateModel.STATUS_MAKEFUN))},t.prototype.resultViewState=function(){var e=DataCenter.instance.room.gameResult;this.myScoreLab.text=this.lameDeskmateModel.myScore+"",this.winnerAvatarGroup.addChild(this.resultHeadImage),this.resultPlayerAvatar1.addChild(this.resultMySmallHeadImage),this.resultPlayerAvatar2.addChild(this.resultOtherSmallHeadImage),e.winUserId==DataCenter.instance.user.id?(this.winStateImg.visible=!0,this.winOrLoseImg.source="resultTitle2_png",this.winOrLoseLab.text="胜利",this.myResultLab.text="1",this.otherResultLab.text="0"):(this.winStateImg.visible=!1,this.winOrLoseImg.source="resultTitle1_png",this.winOrLoseLab.text="失败",this.myResultLab.text="0",this.otherResultLab.text="1"),this.resultPlayerNameLab1.text=DataCenter.instance.user.name,this.resultPlayerNameLab2.text=DataCenter.instance.room.player.name,this.resultSexImg1.source=GameCenterGetSexIcon.getSexIconSource(DataCenter.instance.user.sex),this.resultSexImg2.source=GameCenterGetSexIcon.getSexIconSource(DataCenter.instance.room.player.sex)},t.prototype.arriveScore=function(){return this.lameDeskmateModel.myScore>=this.lameDeskmateModel.otherScore?(this.speedMc.visible=!0,this.speedMc.gotoAndPlay(1,-1),1==this.oneselfNum?this.fireMc.x=100:this.fireMc.x=this.effectGroup1.width-100,this.fireMc.visible=!0,this.fireMc.gotoAndPlay(1,-1)):(this.speedMc.visible=!1,this.speedMc.stop(),1==this.oneselfNum?this.fireMc.x=this.effectGroup1.width-100:this.fireMc.x=100,this.fireMc.visible=!0,this.fireMc.gotoAndPlay(1,-1)),this.lameDeskmateModel.myScore>=LameDeskmateModel.resultScore?void this.sendResult(3):void(this.lameDeskmateModel.otherScore>=LameDeskmateModel.resultScore&&this.sendResult(1))},t.prototype.onGameResult=function(e){DataCenter.instance.room.gameResult=e,this.resultViewState(),this.popup("GameResult",this.resultPageFun)},t.prototype.onGameleave=function(){this.clearData()},t.prototype.clearData=function(){DataCenter.instance.room.IsAI&&this.gameRobotAi&&this.gameRobotAi.clearData(),egret.clearInterval(this.intervalIdKey),egret.clearTimeout(this.clearTimeoutHideBtnsId),egret.clearTimeout(this.clearTimeoutReadyId),App.TimerManager.remove(this.ontimerUpdate,this),this.daodanBtn.touchEnabled=!1,this.chaofengBtn.touchEnabled=!1,this.stopAllDbAmi(),egret.Tween.removeTweens(this.youImg),egret.Tween.removeTweens(this.headmasterShadowImg),this.lameDeskmateEffect&&this.lameDeskmateEffect.setVolume(0),this.lameDeskmateCommonEffect&&this.lameDeskmateCommonEffect.setVolume(0),this.lameDeskmateEffect=null,this.lameDeskmateCommonEffect=null},t.prototype.dispose=function(){e.prototype.dispose.call(this),egret.clearTimeout(this.clearTimeoutHideBtnsId),egret.clearTimeout(this.clearTimeoutReadyId),DataCenter.instance.room.IsAI&&this.gameRobotAi&&(this.gameRobotAi.clearData(),this.gameRobotAi=null),this.stopAllDbAmi(),egret.Tween.removeTweens(this.youImg),egret.Tween.removeTweens(this.headmasterShadowImg),egret.Tween.removeTweens(this.resultGroup),egret.clearInterval(this.intervalIdKey),ObjectPool.clearClass("LameDeskmateScore"),this.resultGroup.visible=!1,this.oneselfBeFound=!1,this.otherBeFound=!1,this.lameDeskmateEffect&&this.lameDeskmateEffect.setVolume(0),this.lameDeskmateCommonEffect&&this.lameDeskmateCommonEffect.setVolume(0),this.lameDeskmateEffect=null,this.lameDeskmateCommonEffect=null},t.prototype.playerAvatarGroup1Handler=function(){this.lameDeskmateCommonEffect&&this.lameDeskmateCommonEffect.play("mouseClickSound_mp3");var e;e=1==this.oneselfNum?DataCenter.instance.user:DataCenter.instance.room.player,this.popup("GameCenterMyHomePage",{lastViewName:"IS_GAMEING",currPlayerData:e})},t.prototype.playerAvatarGroup2Handler=function(){this.lameDeskmateCommonEffect&&this.lameDeskmateCommonEffect.play("mouseClickSound_mp3");var e;e=1==this.oneselfNum?DataCenter.instance.room.player:DataCenter.instance.user,this.popup("GameCenterMyHomePage",{lastViewName:"IS_GAMEING",currPlayerData:e})},t.prototype.ontimerUpdate=function(){this.gameLastTime>0?(this.gameLastTime--,this.timesLab.text=this.gameLastTime+"",this.gameLastTime<4&&this.gameLastTime>0?this.lameDeskmateCommonEffect&&this.lameDeskmateCommonEffect.play("countDownSound_mp3"):0==this.gameLastTime&&this.lameDeskmateCommonEffect&&this.lameDeskmateCommonEffect.play("countDownSoundEnd_mp3")):(App.TimerManager.remove(this.ontimerUpdate,this),this.lameDeskmateModel.myScore>=this.lameDeskmateModel.otherScore?this.sendResult(3):this.sendResult(1))},t.prototype.sendResult=function(e){App.MessageCenter.removeListener(EventMessage.ReceiveGameEventS2C,this.onGameEvent,this),this.clearData(),App.MessageCenter.dispatch(EventMessage.SendGameResultC2S,e)},t.prototype.startMatchingTime=function(){this.gameLastTime=60,App.TimerManager.doTimer(1e3,0,this.ontimerUpdate,this)},t.prototype.oneSelfTween=function(){var e=0,t=0;1==this.oneselfNum?(e=this.youImg.x,t=this.youImg.x+20):(e=this.youImg.x,t=this.youImg.x-20);var i=this.youImg.y,a=this.youImg.y+60;this.youImg.x=this.youImg.x,this.youImg.y=this.youImg.y,this.youImg.visible=!0,egret.Tween.get(this.youImg,{loop:!0},egret.Ease.sineOut).to({scaleX:1,scaleY:1,x:t,y:a},400).to({scaleX:1,scaleY:1,x:e,y:i},400)},t.prototype.classStartTween=function(){this.lameDeskmateCommonEffect&&this.lameDeskmateCommonEffect.play("classStart_mp3"),this.classStartImg.visible=!0,this.classStartImg.rotation=0,egret.Tween.get(this.classStartImg,{loop:!0},egret.Ease.sineOut).to({rotation:15},200).to({rotation:0},200).to({rotation:-15},200).to({rotation:0},200)},t.prototype.guideHandTween=function(){var e=0,t=0;e=this.guideHandImg.x,t=this.guideHandImg.x-20;var i=this.guideHandImg.y,a=this.guideHandImg.y+40;this.guideHandImg.x=this.guideHandImg.x,this.guideHandImg.y=this.guideHandImg.y,this.guideHandImg.visible=!0,egret.Tween.get(this.guideHandImg,{loop:!0},egret.Ease.sineOut).to({scaleX:1,scaleY:1,x:t,y:a},400).to({scaleX:1,scaleY:1,x:e,y:i},400)},t.prototype.scoreTweenMove=function(e){var t=this;egret.Tween.get(e).wait(80).call(function(){t.scoreContainerGroup.removeChild(e),ObjectPool.push(e)})},t.prototype.daodanBtnHandler=function(e){var t=this;if(this.gameStartBool)return this.guideHandImg.visible&&(egret.Tween.removeTweens(this.guideHandImg),this.guideHandImg.visible=!1),this.guideTipImg.visible&&(this.guideTipImg.visible=!1),this.daodanBtn.touchEnabled=!1,this.daodanActionTimeout=setTimeout(function(){t.daodanBtn.touchEnabled=!0,egret.clearTimeout(t.daodanActionTimeout)},80),this.playerHitOther(this.oneselfNum),this.xiaoIsPlay?(egret.clearTimeout(this.clearTimeoutHideBtnsId),this.lameDeskmateCommonEffect&&this.lameDeskmateCommonEffect.stopSound("santaSmileStatus_mp3"),this.oneselfBeFound=!0,this.btnsVisibleOrTouchEnabled(!1,!1),DataCenter.instance.room.IsAI?(this.xiaoIsPlay=!1,this.teachersNuAmiFun(),this.leftStudentAmiPlay(LameDeskmateModel.STATUS_ISSCOLDED),void(this.gameRobotAi&&(this.gameRobotAi.clearData(),this.gameRobotAi.SetTimeoutExample()))):(this.nuIsPlay=!0,void App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,LameDeskmateModel.EVENT_BE_FOUND,1))):DataCenter.instance.room.IsAI?(this.lameDeskmateModel.myScore++,this["playerScoreLab"+this.oneselfNum].text=this.lameDeskmateModel.myScore+"",void this.arriveScore()):void App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,LameDeskmateModel.EVENT_HIT,1)},t.prototype.onStudentHitLComplete=function(){if(this.hitLMc.removeEventListener(egret.Event.COMPLETE,this.onStudentHitLComplete,this),this.nuIsPlay||this.xiaoIsPlay){if(1==this.oneselfNum&&this.oneselfBeFound)return;if(2==this.oneselfNum&&this.otherBeFound)return}this.leftStudentAmiPlay(LameDeskmateModel.STATUS_DAIJI)},t.prototype.onStudentHitRComplete=function(){if(this.hitRMc.removeEventListener(egret.Event.COMPLETE,this.onStudentHitRComplete,this),this.nuIsPlay||this.xiaoIsPlay){if(2==this.oneselfNum&&this.oneselfBeFound)return;if(1==this.oneselfNum&&this.otherBeFound)return}this.rightStudentAmiPlay(LameDeskmateModel.STATUS_DAIJI)},t.prototype.onStudentBeHitRComplete=function(){if(this.beHitRMc.removeEventListener(egret.Event.COMPLETE,this.onStudentBeHitRComplete,this),this.oneselfBeFound)if(1==this.oneselfNum){if(this.leftStudentAmiPlay(LameDeskmateModel.STATUS_ISSCOLDED),this.otherBeFound)return;this.rightStudentAmiPlay(LameDeskmateModel.STATUS_DAIJI)}else{if(this.rightStudentAmiPlay(LameDeskmateModel.STATUS_ISSCOLDED),this.otherBeFound)return;this.leftStudentAmiPlay(LameDeskmateModel.STATUS_DAIJI)}else if(1==this.oneselfNum){if(this.leftStudentAmiPlay(LameDeskmateModel.STATUS_DAIJI),this.otherBeFound)return;this.rightStudentAmiPlay(LameDeskmateModel.STATUS_DAIJI)}else if(2==this.oneselfNum){if(this.rightStudentAmiPlay(LameDeskmateModel.STATUS_DAIJI),this.otherBeFound)return;this.leftStudentAmiPlay(LameDeskmateModel.STATUS_DAIJI)}},t.prototype.onStudentBeHitLComplete=function(){if(this.beHitLMc.removeEventListener(egret.Event.COMPLETE,this.onStudentBeHitLComplete,this),this.oneselfBeFound)if(1==this.oneselfNum){if(this.leftStudentAmiPlay(LameDeskmateModel.STATUS_ISSCOLDED),this.otherBeFound)return;this.rightStudentAmiPlay(LameDeskmateModel.STATUS_DAIJI)}else{if(this.rightStudentAmiPlay(LameDeskmateModel.STATUS_ISSCOLDED),this.otherBeFound)return;this.leftStudentAmiPlay(LameDeskmateModel.STATUS_DAIJI)}else if(1==this.oneselfNum){if(this.leftStudentAmiPlay(LameDeskmateModel.STATUS_DAIJI),this.otherBeFound)return;this.rightStudentAmiPlay(LameDeskmateModel.STATUS_DAIJI)}else if(2==this.oneselfNum){if(this.rightStudentAmiPlay(LameDeskmateModel.STATUS_DAIJI),this.otherBeFound)return;this.leftStudentAmiPlay(LameDeskmateModel.STATUS_DAIJI)}},t.prototype.playerHitOther=function(e){this.lameDeskmateEffect&&this.lameDeskmateEffect.play("lameDeskMate_hit"+Math.ceil(2*Math.random())+"_mp3"),1==e?(this.leftStudentAmiActionInit(),this.hitLMc.visible=!0,this.hitLMc.addEventListener(egret.Event.COMPLETE,this.onStudentHitLComplete,this),this.hitLMc.gotoAndPlay(1,1),this.rightStudentAmiActionInit(),this.beHitEffectRightGroup.visible=!0,this.beHitRMc.visible=!0,this.beHitRMc.addEventListener(egret.Event.COMPLETE,this.onStudentBeHitRComplete,this),this.beHitRMc.gotoAndPlay(1,1)):(this.rightStudentAmiActionInit(),this.hitRMc.visible=!0,this.hitRMc.addEventListener(egret.Event.COMPLETE,this.onStudentHitRComplete,this),this.hitRMc.gotoAndPlay(1,1),this.leftStudentAmiActionInit(),this.beHitEffectLeftGroup.visible=!0,this.beHitLMc.visible=!0,this.beHitLMc.addEventListener(egret.Event.COMPLETE,this.onStudentBeHitLComplete,this),this.beHitLMc.gotoAndPlay(1,1));var t=ObjectPool.pop(LameDeskmateScore,"LameDeskmateScore"),i=Math.ceil(3*Math.random());1==e?(t.texture=RES.getRes("scoreOne"+i+"_png"),t.x=100,t.y=400):2==e&&(t.texture=RES.getRes("scoreOne"+i+"_png"),t.x=440,t.y=400),t.alpha=1,this.scoreContainerGroup.addChild(t),egret.Tween.get(t).to({x:t.x,y:t.y-100,alpha:.2},1e3).call(this.scoreTweenMove.bind(this,t))},t.prototype.chaofengBtnHandler=function(e){return this.gameStartBool?(this.guideHandImg.visible&&(egret.Tween.removeTweens(this.guideHandImg),this.guideHandImg.visible=!1),this.guideTipImg.visible&&(this.guideTipImg.visible=!1),this.playerMakeFun(1),DataCenter.instance.room.IsAI&&this.gameRobotAi.robotBeMakeFun&&!this.oneselfBeFound?void this.makeFunOtherPlayer():void App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,LameDeskmateModel.EVENT_MAKEFUN,1)):void 0},t.prototype.playerMakeFun=function(e){this.lameDeskmateEffect&&this.lameDeskmateEffect.play("lameDeskMate_makeFun_mp3");var t=ObjectPool.pop(LameDeskmateScore,"LameDeskmateScore"),i=Math.ceil(3*Math.random());1==e?1==this.oneselfNum?(t.texture=RES.getRes("scoreTwo"+i+"_png"),t.x=440,t.y=370):(t.texture=RES.getRes("scoreTwo"+i+"_png"),t.x=100,t.y=370):2==e&&(1==this.oneselfNum?(t.texture=RES.getRes("scoreTwo"+i+"_png"),t.x=100,t.y=370):(t.texture=RES.getRes("scoreTwo"+i+"_png"),t.x=440,t.y=370)),t.alpha=1,this.scoreContainerGroup.addChild(t),egret.Tween.get(t).to({x:t.x,y:t.y-100,alpha:.2},1e3).call(this.scoreTweenMove.bind(this,t))},t.prototype.addAllMc=function(){this.fireMcFactory=new egret.MovieClipDataFactory(RES.getRes("fireAni_mc_json"),RES.getRes("fireAni_tex_png")),this.fireMc=new egret.MovieClip(this.fireMcFactory.generateMovieClipData("fireAni")),this.fireMc.visible=!1,this.effectGroup1.addChild(this.fireMc),this.fireMc.x=100,this.fireMc.y=68,this.speedMcFactory=new egret.MovieClipDataFactory(RES.getRes("speedMc_mc_json"),RES.getRes("speedMc_tex_png")),this.speedMc=new egret.MovieClip(this.speedMcFactory.generateMovieClipData("speedMc")),this.speedMc.visible=!1,this.effectGroup2.addChild(this.speedMc),this.speedMc.x=320,this.speedMc.y=234,this.beFoundOneMcFactory=new egret.MovieClipDataFactory(RES.getRes("beFoundEffect2_mc_json"),RES.getRes("beFoundEffect2_tex_png")),this.beFoundOneMc=new egret.MovieClip(this.beFoundOneMcFactory.generateMovieClipData("beFoundEffect2")),this.effectGroup3.addChild(this.beFoundOneMc),this.beFoundOneMc.x=170,this.beFoundOneMc.y=460,this.beFoundTwoMcFactory=new egret.MovieClipDataFactory(RES.getRes("beFoundEffect_mc_json"),RES.getRes("beFoundEffect_tex_png")),this.beFoundTwoMc=new egret.MovieClip(this.beFoundTwoMcFactory.generateMovieClipData("beFoundEffect")),this.effectGroup3.addChild(this.beFoundTwoMc),this.beFoundTwoMc.x=460,this.beFoundTwoMc.y=460,this.teacherDaijiFactory=new egret.MovieClipDataFactory(RES.getRes("teacherDaiji_mc_json"),RES.getRes("teacherDaiji_tex_png")),this.teacherDaijiMc=new egret.MovieClip(this.teacherDaijiFactory.generateMovieClipData("teacherWhite")),this.teacherDbGroup.addChild(this.teacherDaijiMc),this.teacherDaijiMc.gotoAndPlay(1,-1),this.teacherDaijiMc.x=100,this.teacherDaijiMc.y=130,this.hitLMcFactory=new egret.MovieClipDataFactory(RES.getRes("studentLeftHit_mc_json"),RES.getRes("studentLeftHit_tex_png")),this.hitLMc=new egret.MovieClip(this.hitLMcFactory.generateMovieClipData("studentLeftHitMc")),this.leftStudentDbGroup.addChild(this.hitLMc),this.hitLMc.x=260,this.hitLMc.y=200,this.beHitLMcFactory=new egret.MovieClipDataFactory(RES.getRes("studentLeftBeHit_mc_json"),RES.getRes("studentLeftBeHit_tex_png")),this.beHitLMc=new egret.MovieClip(this.beHitLMcFactory.generateMovieClipData("studentLeftBeHit")),this.leftStudentDbGroup.addChild(this.beHitLMc),this.beHitLMc.x=170,this.beHitLMc.y=200,this.beHitLEffectFactory=new egret.MovieClipDataFactory(RES.getRes("beHitEffectLeft_mc_json"),RES.getRes("beHitEffectLeft_tex_png")),this.beHitLEffectMc=new egret.MovieClip(this.beHitLEffectFactory.generateMovieClipData("beHitLeftEffect")),this.beHitLEffectMc.x=170,this.beHitLEffectMc.y=600,this.makeFunLMcFactory=new egret.MovieClipDataFactory(RES.getRes("studentLeftMakeFun_mc_json"),RES.getRes("studentLeftMakeFun_tex_png")),this.makeFunLMc=new egret.MovieClip(this.makeFunLMcFactory.generateMovieClipData("studentLeftMakeFun")),this.leftStudentDbGroup.addChild(this.makeFunLMc),this.makeFunLMc.x=170,this.makeFunLMc.y=200,this.hitRMcFactory=new egret.MovieClipDataFactory(RES.getRes("studentRightHit_mc_json"),RES.getRes("studentRightHit_tex_png")),this.hitRMc=new egret.MovieClip(this.hitRMcFactory.generateMovieClipData("studentRightHit")),this.rightStudentDbGroup.addChild(this.hitRMc),this.hitRMc.x=80,this.hitRMc.y=220,this.beHitRMcFactory=new egret.MovieClipDataFactory(RES.getRes("studentRightBeHit_mc_json"),RES.getRes("studentRightBeHit_tex_png")),this.beHitRMc=new egret.MovieClip(this.beHitRMcFactory.generateMovieClipData("studentRightBeHit")),this.rightStudentDbGroup.addChild(this.beHitRMc),this.beHitRMc.x=190,this.beHitRMc.y=210,this.beHitREffectFactory=new egret.MovieClipDataFactory(RES.getRes("beHitEffectRight_mc_json"),RES.getRes("beHitEffectRight_tex_png")),this.beHitREffectMc=new egret.MovieClip(this.beHitREffectFactory.generateMovieClipData("beHitRightEffect")),this.beHitREffectMc.x=460,this.beHitREffectMc.y=600,this.makeFunRMcFactory=new egret.MovieClipDataFactory(RES.getRes("studentRightMakeFun_mc_json"),RES.getRes("studentRightMakeFun_tex_png")),this.makeFunRMc=new egret.MovieClip(this.makeFunRMcFactory.generateMovieClipData("studentRightMakeFun")),this.rightStudentDbGroup.addChild(this.makeFunRMc),this.makeFunRMc.x=170,this.makeFunRMc.y=200,this.teachersPlayStatusYuJingFun(),this.leftStudentAmiActionInit(),this.leftStudentDaijiImg.visible=!0,this.rightStudentAmiActionInit(),this.rightStudentDaijiImg.visible=!0},t.prototype.tick=function(t){e.prototype.tick.call(this,t),this.dbTimeTicker||(this.dbTimeTicker=t);var i=t;i-this.dbTimeTicker;this.dbTimeTicker=i},t.prototype.stopAllDbAmi=function(){this.teachersStatusAmiPlay(1,LameDeskmateSantaModel.STATUS_TEACHER_YUJING,!1),this.teachersStatusAmiPlay(2,LameDeskmateSantaModel.STATUS_HEADMASTER_YUJING,!1),this.leftStudentAmiActionInit(),this.leftStudentDaijiImg.visible=!0,this.rightStudentAmiActionInit(),this.rightStudentDaijiImg.visible=!0},t.prototype.headmasterYujingTween=function(){function e(){n--,egret.Tween.get(a.headmasterShadowImg,egret.Ease.sineOut).to({x:o,y:a.headmasterShadowImg.y},500+10*n).call(t)}function t(){egret.Tween.get(a.headmasterShadowImg,egret.Ease.sineOut).to({x:s,y:a.headmasterShadowImg.y},500+30*n).call(i)}function i(){return n>0?void e():(a.headmasterShadowImg.visible=!1,a.yujingIsPlay=!1,void a.santaPlayStatusXiaoFun())}var a=this;this.yujingIsPlay=!0;var s=this.headmasterShadowImg.x=-160,o=this.headmasterShadowImg.x+80;this.headmasterShadowImg.x=this.headmasterShadowImg.x,a.headmasterShadowImg.visible=!0;var n=3;e()},t.prototype.headmasterXiaoTween=function(e){var t=this;if(t.headmasterXiao.visible=!0,e){var i=0;this.headmasterXiao.x=-110,egret.Tween.get(t.headmasterXiao,egret.Ease.sineOut).to({x:i,y:t.headmasterXiao.y},400)}else{var i=-110;this.headmasterXiao.x=0,egret.Tween.get(t.headmasterXiao,egret.Ease.sineOut).to({x:i,y:t.headmasterXiao.y},200).call(function(){t.headmasterXiao.visible=!1})}},t.prototype.headmasterNuTween=function(e){var t=this;if(t.headmasterNu.visible=!0,e)this.headmasterNu.x=0;else{var i=-215;this.headmasterNu.x=0,egret.Tween.get(t.headmasterNu,egret.Ease.sineOut).to({x:i,y:t.headmasterNu.y},200).call(function(){t.headmasterNu.visible=!1})}},t.prototype.teachersStatusAmiPlay=function(e,t,i){var a=this;if(i){if(1==e)t==LameDeskmateSantaModel.STATUS_TEACHER_YUJING?(this.teacherDaijiMc.visible=!0,this.teacherDaijiMc.gotoAndPlay(1,-1),this.teacherActionTime=2,App.TimerManager.doTimer(1e3,0,this.onYuJingComplete,this)):t==LameDeskmateSantaModel.STATUS_TEACHER_XIAO?(this.clearTimeoutHideBtnsId=egret.setTimeout(function(){a.xiaoIsPlay&&!a.nuIsPlay&&a.btnsVisibleOrTouchEnabled(!1,!1)},this,1e3),this.clearTimeoutDaodanBtnYanChi=egret.setTimeout(function(){a.xiaoIsPlay=!0},this,400),this.teacherDaijiMc.stop(),this.teacherDaijiMc.visible=!1,this.teacherXiaoNuImg.visible=!0,this.teacherXiaoNuImg.source="teacher2_png",this.teacherActionTime=2,App.TimerManager.doTimer(1e3,0,this.onXiaoComplete,this)):t==LameDeskmateSantaModel.STATUS_TEACHER_NU&&(this.nuIsPlay=!0,this.teacherXiaoNuImg.visible=!0,this.teacherXiaoNuImg.source="teacher3_png",this.beFoundStandUpImg.visible=!0,this.teacherActionTime=2,App.TimerManager.doTimer(1e3,0,this.onNuComplete,this));else if(2==e){if(t==LameDeskmateSantaModel.STATUS_HEADMASTER_YUJING)return void this.headmasterYujingTween();t==LameDeskmateSantaModel.STATUS_HEADMASTER_XIAO?(this.clearTimeoutHideBtnsId=egret.setTimeout(function(){a.xiaoIsPlay&&!a.nuIsPlay&&a.btnsVisibleOrTouchEnabled(!1,!1)},this,1e3),this.clearTimeoutDaodanBtnYanChi=egret.setTimeout(function(){a.xiaoIsPlay=!0},this,400),this.headmasterShadowImg.visible=!1,egret.Tween.removeTweens(this.headmasterShadowImg),this.headmasterXiaoTween(!0),this.teacherActionTime=2,App.TimerManager.doTimer(1e3,0,this.onXiaoComplete,this)):t==LameDeskmateSantaModel.STATUS_HEADMASTER_NU&&(this.nuIsPlay=!0,this.headmasterXiao.visible=!1,egret.Tween.removeTweens(this.headmasterXiao),this.headmasterNuTween(!0),this.beFoundStandUpImg.visible=!0,this.teacherActionTime=2,App.TimerManager.doTimer(1e3,0,this.onNuComplete,this))}}else 1==e?(this.teacherXiaoNuImg.visible=!1,this.teacherDaijiMc.visible=!0,this.teacherDaijiMc.gotoAndPlay(1,-1)):2==e&&(this.headmasterShadowImg.visible=!1,this.headmasterXiao.visible&&this.headmasterXiaoTween(!1),this.headmasterNu.visible&&this.headmasterNuTween(!1))},t.prototype.onYuJingComplete=function(){return this.teacherActionTime>0?void this.teacherActionTime--:(App.TimerManager.remove(this.onYuJingComplete,this),this.yujingIsPlay=!1,void this.santaPlayStatusXiaoFun())},t.prototype.onXiaoComplete=function(){if(!this.nuIsPlay){if(this.teacherActionTime>0)return void this.teacherActionTime--;App.TimerManager.remove(this.onXiaoComplete,this),this.xiaoIsPlay=!1,this.teachersPlayStatusYuJingFun(),DataCenter.instance.room.IsAI&&this.gameRobotAi&&(this.gameRobotAi.robotBeMakeFun=!1,this.gameRobotAi.robotNoBeFound=!1,this.gameRobotAi.clearData(),this.gameRobotAi.SetTimeoutExample()),this.btnsVisibleOrTouchEnabled(!0,!1),App.IsXiaoMi&&App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,LameDeskmateSantaModel.TEACHERS_ACTION_END,2)}},t.prototype.onNuComplete=function(){return this.teacherActionTime>0?void this.teacherActionTime--:(App.TimerManager.remove(this.onNuComplete,this),this.teachersPlayStatusYuJingFun(),this.nuIsPlay=!1,this.xiaoIsPlay=!1,this.oneselfBeFound=!1,this.otherBeFound=!1,this.beFoundStandUpImg.visible=!1,DataCenter.instance.room.IsAI&&this.gameRobotAi&&(this.gameRobotAi.robotBeMakeFun=!1,this.gameRobotAi.robotNoBeFound=!1,this.gameRobotAi.clearData(),this.gameRobotAi.SetTimeoutExample()),this.leftStudentAmiPlay(LameDeskmateModel.STATUS_DAIJI),this.rightStudentAmiPlay(LameDeskmateModel.STATUS_DAIJI),this.btnsVisibleOrTouchEnabled(!0,!1),void(App.IsXiaoMi&&App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,LameDeskmateSantaModel.TEACHERS_ACTION_END,2)))
},t.prototype.teachersPlayStatusYuJingFun=function(){this.teachersStatusAmiPlay(1,LameDeskmateSantaModel.STATUS_TEACHER_YUJING,!1),this.teachersStatusAmiPlay(2,LameDeskmateSantaModel.STATUS_HEADMASTER_YUJING,!1)},t.prototype.santaPlayStatusXiaoFun=function(){this.lameDeskmateCommonEffect&&this.lameDeskmateCommonEffect.play("santaSmileStatus_mp3"),1==this.teachersAniIndex?this.teachersStatusAmiPlay(this.teachersAniIndex,LameDeskmateSantaModel.STATUS_TEACHER_XIAO,!0):2==this.teachersAniIndex&&this.teachersStatusAmiPlay(this.teachersAniIndex,LameDeskmateSantaModel.STATUS_HEADMASTER_XIAO,!0),App.IsXiaoMi&&App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,LameDeskmateSantaModel.TEACHERS_COMEOUT,2)},t.prototype.leftStudentAmiActionInit=function(){this.leftStudentDaijiImg.visible=!1,this.leftStudentBeFoundImg.visible=!1,this.beFoundOneMc.stop(),this.beFoundOneMc.visible=!1,this.hitLMc.visible=!1,this.hitLMc.stop(),this.beHitLMc.visible=!1,this.beHitLMc.stop(),this.beHitEffectLeftGroup.visible=!1,this.makeFunLMc.visible=!1,this.makeFunLMc.stop(),this.chaofengImg.visible=!1},t.prototype.leftStudentAmiPlay=function(e){switch(this.leftStudentAmiActionInit(),e){case LameDeskmateModel.STATUS_DAIJI:this.leftStudentDaijiImg.visible=!0;break;case LameDeskmateModel.STATUS_ISSCOLDED:this.leftStudentBeFoundImg.visible=!0,this.beFoundOneMc.visible=!0,this.beFoundOneMc.gotoAndPlay(1,-1);break;case LameDeskmateModel.STATUS_MAKEFUN:this.makeFunLMc.visible=!0,this.makeFunLMc.gotoAndPlay(1,1);break;case LameDeskmateModel.EVENT_HIT:this.hitLMc.visible=!0,this.hitLMc.gotoAndPlay(1,1);break;case LameDeskmateModel.EVENT_BEHIT:this.beHitLMc.visible=!0,this.beHitLMc.gotoAndPlay(1,1),this.beHitEffectLeftGroup.visible=!0}},t.prototype.rightStudentAmiActionInit=function(){this.rightStudentDaijiImg.visible=!1,this.rightStudentBeFoundImg.visible=!1,this.beFoundTwoMc.stop(),this.beFoundTwoMc.visible=!1,this.hitRMc.visible=!1,this.hitRMc.stop(),this.beHitRMc.visible=!1,this.beHitRMc.stop(),this.beHitEffectRightGroup.visible=!1,this.makeFunRMc.visible=!1,this.makeFunRMc.stop(),this.chaofengImg.visible=!1},t.prototype.rightStudentAmiPlay=function(e){switch(this.rightStudentAmiActionInit(),e){case LameDeskmateModel.STATUS_DAIJI:this.rightStudentDaijiImg.visible=!0;break;case LameDeskmateModel.STATUS_ISSCOLDED:this.rightStudentBeFoundImg.visible=!0,this.beFoundTwoMc.visible=!0,this.beFoundTwoMc.gotoAndPlay(1,-1);break;case LameDeskmateModel.STATUS_MAKEFUN:this.makeFunRMc.visible=!0,this.makeFunRMc.gotoAndPlay(1,1);break;case LameDeskmateModel.EVENT_HIT:this.hitRMc.visible=!0,this.hitRMc.gotoAndPlay(1,1);break;case LameDeskmateModel.EVENT_BEHIT:this.beHitRMc.visible=!0,this.beHitRMc.gotoAndPlay(1,1),this.beHitEffectRightGroup.visible=!0}},t.prototype.randomPlaySantaAction=function(){this.currAmiIndex=0,this.SetTimeoutExample()},t.prototype.SetTimeoutExample=function(){this.intervalIdKey=egret.setInterval(this.myDelayedFunction,this,3e3+1e3*Math.ceil(3*Math.random()))},t.prototype.myDelayedFunction=function(e){this.yujingIsPlay||this.xiaoIsPlay||this.nuIsPlay||(this.LameDeskmateSantaModel.checkActions[this.currAmiIndex]==LameDeskmateSantaModel.TEACHERS_ACTION_STATUS1?1==DataCenter.instance.room.IsAI?this.teacherYujingFun():App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,LameDeskmateSantaModel.STATUS_TEACHER_YUJING,1):this.LameDeskmateSantaModel.checkActions[this.currAmiIndex]==LameDeskmateSantaModel.TEACHERS_ACTION_STATUS2&&(1==DataCenter.instance.room.IsAI?this.headMasterYujingFun():App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,LameDeskmateSantaModel.STATUS_HEADMASTER_YUJING,1)),this.currAmiIndex++)},t.GAME_WIDTH=640,t.GAME_HEIGHT=1136,t.aiConf={},t}(StateEui);__reflect(LameDeskmateMainView.prototype,"LameDeskmateMainView");var LameDeskmateModel=function(e){function t(){var t=e.call(this)||this;return t.myScore=0,t.otherScore=0,t.myScore=0,t.otherScore=0,t}return __extends(t,e),t.EVENT_HIT="EVENT_HIT",t.EVENT_BEHIT="EVENT_BEHIT",t.EVENT_MAKEFUN="EVENT_MAKEFUN",t.EVENT_BE_FOUND="EVENT_BE_FOUND",t.STATUS_ISSCOLDED="isScolded",t.STATUS_MAKEFUN="makeFun",t.STATUS_DAIJI="sweepFloor",t.GET_HOST_PC="GET_HOST_PC",t.resultScore=1500,t}(egret.DisplayObjectContainer);__reflect(LameDeskmateModel.prototype,"LameDeskmateModel");var LameDeskmateSantaAI=function(e){function t(t,i){var a=e.call(this)||this;return a.robotAiDirection=2,a.intervalIdRobotAiKey=0,a.intervalSantaComeoutIdRobotAiKey=0,a.robotBeMakeFun=!1,a.robotNoBeFound=!1,a.gameChristmasMainView=t,a.robotAiDirection=i,a}return __extends(t,e),t.prototype.robotThrowSnowBall=function(){this.gameChristmasMainView.lameDeskmateModel.otherScore++,this.gameChristmasMainView.playerScoreLab2.text=this.gameChristmasMainView.lameDeskmateModel.otherScore+"",this.gameChristmasMainView.arriveScore(),this.gameChristmasMainView.playerHitOther(this.robotAiDirection)},t.prototype.robotMakeFun=function(){this.gameChristmasMainView.lameDeskmateModel.myScore-=2,this.gameChristmasMainView.lameDeskmateModel.myScore<=0&&(this.gameChristmasMainView.lameDeskmateModel.myScore=0),this.gameChristmasMainView.playerScoreLab1.text=this.gameChristmasMainView.lameDeskmateModel.myScore+"",this.gameChristmasMainView.playerMakeFun(this.robotAiDirection),this.gameChristmasMainView.leftStudentAmiPlay(LameDeskmateModel.STATUS_ISSCOLDED),this.gameChristmasMainView.rightStudentAmiPlay(LameDeskmateModel.STATUS_MAKEFUN)},t.prototype.sendGameResult=function(){this.gameChristmasMainView.popup("GameResult")},t.prototype.randomPlayRobotAction=function(){this.SetTimeoutExample()},t.prototype.clearsantaComeoutHit=function(){egret.clearInterval(this.intervalSantaComeoutIdRobotAiKey)},t.prototype.santaComeoutHit=function(){this.intervalSantaComeoutIdRobotAiKey=egret.setInterval(this.myDelayedFunction,this,240+Math.ceil(50*Math.random()))},t.prototype.clearSetTimeoutExample=function(){egret.clearInterval(this.intervalIdRobotAiKey)},t.prototype.SetTimeoutExample=function(){var e=LameDeskmateMainView.aiConf[t.robotAiLv+""];t.robotSec=e.s,this.intervalIdRobotAiKey=egret.setInterval(this.myDelayedFunction,this,t.robotSec)},t.prototype.myDelayedFunction=function(){if(1==this.robotBeMakeFun)return void this.gameChristmasMainView.rightStudentAmiPlay(LameDeskmateModel.STATUS_ISSCOLDED);if(!this.gameChristmasMainView.xiaoIsPlay||!this.robotNoBeFound){if(this.gameChristmasMainView.xiaoIsPlay&&!this.robotNoBeFound){var e=Math.ceil(10*Math.random());return void(e>5+t.robotAiLv?(this.gameChristmasMainView.xiaoIsPlay=!1,this.robotBeMakeFun=!0,this.gameChristmasMainView.rightStudentAmiPlay(LameDeskmateModel.STATUS_ISSCOLDED),this.gameChristmasMainView.nuIsPlay||this.gameChristmasMainView.teachersNuAmiFun(),this.gameChristmasMainView.btnsVisibleOrTouchEnabled(!1,!0)):(this.robotNoBeFound=!0,this.gameChristmasMainView.rightStudentAmiPlay(LameDeskmateModel.STATUS_DAIJI)))}return this.gameChristmasMainView.nuIsPlay&&this.gameChristmasMainView.oneselfBeFound?void this.robotMakeFun():void this.robotThrowSnowBall()}},t.prototype.clearData=function(){egret.clearInterval(this.intervalIdRobotAiKey),egret.clearInterval(this.intervalSantaComeoutIdRobotAiKey)},t.robotAiLv=3,t.robotSec=0,t}(egret.DisplayObjectContainer);__reflect(LameDeskmateSantaAI.prototype,"LameDeskmateSantaAI");var LameDeskmateSantaModel=function(e){function t(){var t=e.call(this)||this;return t.checkActions=[1,2,2,1,2,1,1,2,2,1,2,1,2,2,1,2,1],t.arrRandomByIndex(t.checkActions,0,t.checkActions.length),t}return __extends(t,e),t.prototype.arrRandom=function(e){function t(e,t){return Math.random()>.5?1:-1}e.sort(t)},t.prototype.arrRandomByIndex=function(e,t,i){var a=e.slice(t,i);this.arrRandom(a);for(var s=0;s<a.length;s++)e[t+s]=a[s]},t.STATUS_TEACHER_YUJING="teacheryujing",t.STATUS_TEACHER_XIAO="teacherxiao",t.STATUS_TEACHER_NU="teachernu",t.STATUS_HEADMASTER_YUJING="headmasteryujing",t.STATUS_HEADMASTER_XIAO="headmasterxiao",t.STATUS_HEADMASTER_NU="headmasternu",t.TEACHERS_ACTION_STATUS1=1,t.TEACHERS_ACTION_STATUS2=2,t.TEACHERS_COMEOUT="TEACHERS_COMEOUT",t.TEACHERS_ACTION_END="TEACHERS_ACTION_END",t}(egret.DisplayObjectContainer);__reflect(LameDeskmateSantaModel.prototype,"LameDeskmateSantaModel");var LameDeskmateScore=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(egret.Bitmap);__reflect(LameDeskmateScore.prototype,"LameDeskmateScore");