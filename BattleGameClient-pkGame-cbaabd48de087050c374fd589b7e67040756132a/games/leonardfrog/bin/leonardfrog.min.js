var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);i.prototype=e.prototype,t.prototype=new i},FrogCharacter=function(t){function e(){var e=t.call(this)||this;return e.status=0,e}return __extends(e,t),e.prototype.init=function(t){this.roleAvatar||(this.roleAvatar=new RoleAvatar(t.curAvatarType,t.imgUrl,"dbxiaoren00_game1"),this.armature=this.roleAvatar.armature,this.armature&&(this.armature.scaleX=this.armature.scaleY=.6),this.addChild(this.armature),this.validWidth=this.width,this.validHeight=Math.floor(GameLeonardFroG.IMPACT_parameter*this.height))},Object.defineProperty(e.prototype,"isEnemy",{get:function(){return-1==this.scaleY},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){console.log("销毁了"),egret.Tween.removeTweens(this),this.roleAvatar.dispose(),this.roleAvatar=null,this.armature=null,this.currRect=null},e}(egret.DisplayObjectContainer);__reflect(FrogCharacter.prototype,"FrogCharacter");var FrogEffect=function(t){function e(e){var i=t.call(this)||this;return i.onAddEffect(e),i}return __extends(e,t),e.prototype.onAddEffect=function(t){this.armature=this.armature,this.armature.play(t),this.addChild(this.armature)},e.prototype.dispose=function(){this.roleAvatar.dispose(),this.roleAvatar=null,this.armature=null,this.currRect=null},e}(egret.DisplayObjectContainer);__reflect(FrogEffect.prototype,"FrogEffect");var GameLeonardFroG=function(t){function e(){var e=t.call(this)||this;return e.numScore1=0,e.numScore2=0,e.time=60,e.pauseCallback=function(){App.MessageCenter.dispatch(EventMessage.SendGameResultC2S,1),e.next("gameChangeMatch")},e.rectangle1=new egret.Rectangle,e.rectangle2=new egret.Rectangle,e.checkFlag=0,e.tmpPoint=new egret.Point,e.arrayPlay1=[],e.arrayPlay2=[],e}return __extends(e,t),e.prototype.init=function(){var i=this;t.prototype.init.call(this),this.container=new egret.DisplayObjectContainer,this.bg=App.DisplayUtils.createBitmap("bg_LeonardFrog_jpg"),this.container.addChild(this.bg),this.addChild(this.container);var a=App.GameWidth/e.GAME_WIDTH,r=App.GameHeight/e.GAME_HEIGHT,s=Math.min(a,r);this.container.scaleX=this.container.scaleY=s,this.container.x=.5*(App.GameWidth-e.GAME_WIDTH*s),this.container.y=.5*(App.GameHeight-e.GAME_HEIGHT*s),this.containerTop=new egret.DisplayObjectContainer,this.container.addChild(this.containerTop),this.containerTop.x=143,this.containerTop.y=0,this.img1=App.DisplayUtils.createBitmap("ti_png"),this.img1.x=0,this.img1.y=38,this.containerTop.addChild(this.img1),this.img_red=App.DisplayUtils.createBitmap("p_red_png"),this.containerTop.addChild(this.img_red),this.img_red.width=172,this.img_red.x=2,this.img_red.y=40,this.img_red.mask=new egret.Rectangle(-172,0,172,42),this.img_blue=App.DisplayUtils.createBitmap("p_blue_png"),this.containerTop.addChild(this.img_blue),this.img_blue.width=172,this.img_blue.x=180,this.img_blue.y=40,this.img_blue.mask=new egret.Rectangle(172,0,172,42),this.img_diadema=App.DisplayUtils.createBitmap("img_diadema_frog_png"),this.containerTop.addChild(this.img_diadema),this.img_diadema.x=146,this.img_diadema.y=0,this.bg_time=App.DisplayUtils.createBitmap("bg_time_png"),this.containerTop.addChild(this.bg_time),this.bg_time.x=158,this.bg_time.y=62,this.bitmaptime=new egret.TextField,this.containerTop.addChild(this.bitmaptime),this.bitmaptime.text="60",this.bitmaptime.textColor=2171169,this.bitmaptime.scaleX=this.bitmaptime.scaleY=.7,this.bitmaptime.fontFamily="Arial",this.bitmaptime.x=167,this.bitmaptime.y=71;var n=DataCenter.instance.user;this.roleAvatar1=new RoleAvatar(n.curAvatarType,n.imgUrl,"toukuang"),this.roleAvatar1.armature.play("jing"),this.roleAvatar1.armature.x=this.containerTop.x,this.roleAvatar1.armature.y=.8*this.containerTop.height,this.roleAvatar1.armature.scaleX=this.roleAvatar1.armature.scaleY=.6,this.roleAvatar1.armature.addDisplayEvent(dragonBones.AnimationEvent.LOOP_COMPLETE,this.roleAvatarPlayEnd,this),this.container.addChild(this.roleAvatar1.armature);var h=DataCenter.instance.room.player;this.roleAvatar2=new RoleAvatar(h.curAvatarType,h.imgUrl,"toukuang"),this.roleAvatar2.armature.play("jing"),this.roleAvatar2.armature.x=this.containerTop.x+this.containerTop.width,this.roleAvatar2.armature.y=.8*this.containerTop.height,this.roleAvatar2.armature.scaleX=this.roleAvatar2.armature.scaleY=.6,this.roleAvatar2.armature.addDisplayEvent(dragonBones.AnimationEvent.LOOP_COMPLETE,this.roleAvatarPlayEnd,this),this.container.addChild(this.roleAvatar2.armature),this.containerEffect=new egret.DisplayObjectContainer,this.containerEffect.x=0,this.containerEffect.y=0,this.container.addChild(this.containerEffect),this.containerEffect.mask=new egret.Rectangle(0,0,e.GAME_WIDTH,e.GAME_HEIGHT),this.containerGame=new GameLeonardFrogMap,this.containerGame.x=0,this.containerGame.y=210,this.container.addChild(this.containerGame),this.containerGame.touchChildren=!0,this.containerGame.touchEnabled=!0,this.container.touchEnabled=!0,this.container.touchChildren=!0,this.containerGame.mask=new egret.Rectangle(0,0,e.GAME_WIDTH,e.GAME_HEIGHT),this.addAllLotusDb(),this.containerPeople=new egret.DisplayObjectContainer,this.container.addChild(this.containerPeople),this.containerheight=new egret.DisplayObjectContainer,this.containerheight.width=this.bg.width,this.containerheight.height=this.bg.height,this.container.addChild(this.containerheight),this.readyIMG=new GameReady(function(){i.start()}),this.readyIMG.x=300,this.readyIMG.y=App.GameHeight/2,this.container.addChild(this.readyIMG),this.addAllRainbow(),this.goBack=App.DisplayUtils.createBitmap("goBack_png"),this.container.addChild(this.goBack),this.goBack.x=0,this.goBack.y=20,this.goBack.touchEnabled=!0,this.goBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.goBackBtnHandler,this),(App.IsXiaoMi||App.IsWanba)&&(this.goBack.visible=!1,this.goBack.touchEnabled=!1),this.btn_jump=App.DisplayUtils.createBitmap("beng_png"),this.btn_jump.anchorOffsetX=.5*this.btn_jump.width,this.btn_jump.anchorOffsetY=.5*this.btn_jump.height,this.btn_jump.x=e.GAME_WIDTH-this.btn_jump.width+this.btn_jump.anchorOffsetX,this.btn_jump.y=e.GAME_HEIGHT-this.btn_jump.height-10+this.btn_jump.anchorOffsetY,this.container.addChild(this.btn_jump),App.ClickAnimation.register(this.btn_jump),this.btn_jump.touchEnabled=!1,this.containerheight.touchEnabled=!1,this.btn_jump.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onJump,this),this.containerheight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onJump,this),App.MessageCenter.addListener(EventMessage.ReceiveGameEventS2C,this.onGameEvent,this),App.MessageCenter.addListener(EventMessage.ReceiveGameResultS2C,this.onGameResult,this),App.MessageCenter.addListener(EventMessage.pauseMessage,this.pauseCallback,this)},e.prototype.roleAvatarPlayEnd=function(t){var e=t.currentTarget.parent;"dong"==e.currAction&&e.play("jing")},e.prototype.show=function(){t.prototype.show.call(this);var e=this.containerGame.createSelfTips();if(DataCenter.instance.room.IsAI)this.containerGame.createEnemyTips(e[0],e[1]),this.containerGame.tick(0),this.createAiEnemy(),this.readyIMG.play();else{var i={key:"createRects",tips1Datas:e[0],tips2Datas:e[1]};App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,JSON.stringify(i))}this.onAddNewSelf();var a="bg_frog_mp3";App.SoundManager.playBg(a)},e.prototype.goBackBtnHandler=function(){this.popup("GameSureLeave")},e.prototype.onGameEvent=function(t){var i=JSON.parse(t.event);if("createCharacter"==i.key)this.onAddNewEnemy(i.id,e.GAME_WIDTH-i.initX);else if("jump"==i.key)this.enemyJump();else if("createRects"==i.key)this.containerGame.createEnemyTips(i.tips1Datas,i.tips2Datas),this.containerGame.tick(0),this.readyIMG.play();else if("setScore"==i.key)this.enemyJumpSuccess();else if("intoWater"==i.key)this.enemyIntoWater(this.getEnemy(i.characterID));else if("BumpOut"==i.key)this.enemybumpOut(this.getEnemy(i.characterID));else if("setRect"==i.key){var a=this.getEnemy(i.characterID),r=e.Rects[i.rectID];a.currRect=r}else"timeOver"==i.key&&(console.log("时间到啦啦啦啦啦"),this.bitmaptime.text="00")},e.prototype.getEnemy=function(t){for(var e=0,i=this.arrayPlay2.length;i>e;e++){var a=this.arrayPlay2[e];if(a.id==t)return a}return null},e.prototype.timer=function(){if(this.time-=1,this.time<10?this.bitmaptime.text="0"+this.time.toString():this.bitmaptime.text=this.time.toString(),this.time<4&&this.time>0){var t="time_common_mp3";App.SoundManager.playEffect(t)}else if(0==this.time){var t="time_last_mp3";App.SoundManager.playEffect(t)}if(0==this.time||this.numScore1==e.MAX_SCORE||this.numScore2==e.MAX_SCORE){if(!DataCenter.instance.room.IsAI){var i={key:"timeOver"};App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,JSON.stringify(i))}this.stop();var a=1;this.numScore1>this.numScore2?a=3:this.numScore1<this.numScore2?a=1:this.numScore1==this.numScore2&&(a=2),App.MessageCenter.dispatch(EventMessage.SendGameResultC2S,a)}},e.prototype.onGameResult=function(t){this.stop(),DataCenter.instance.room.gameResult=t,this.popup("GameResult",null)},e.prototype.start=function(){this.isRuning=!0,this.btn_jump.touchEnabled=!0,this.containerheight.touchEnabled=!0,App.TimerManager.doFrame(1,0,this.run,this),App.TimerManager.doTimer(1e3,0,this.timer,this),DataCenter.instance.room.IsAI&&App.TimerManager.doTimer(1e3,0,this.enemyAi,this)},e.prototype.stop=function(){this.isRuning&&(this.isRuning=!1,this.btn_jump.touchEnabled=!1,this.containerheight.touchEnabled=!1,App.TimerManager.remove(this.run,this),App.TimerManager.remove(this.timer,this),App.TimerManager.remove(this.enemyAi,this),App.SoundManager.stopBg())},e.prototype.enemyAi=function(){this.enemyJump()},e.prototype.createAiEnemy=function(){var t=++e.Character_ID,i=App.RandomUtils.limitInteger(50,350);this.onAddNewEnemy(t,e.GAME_WIDTH-i)},e.prototype.run=function(t){this.containerGame.tick(t),!this.selfJumpFlag&&this.characterMove(t,!0),!this.enemyJumpFlag&&this.characterMove(t,!1),this.onImpact()},e.prototype.onImpact=function(){if(this.checkFlag++,10==this.checkFlag){this.checkFlag=0;for(var t=this.arrayPlay1.length,e=t-1;e>=0;e--){var i=this.arrayPlay1[e];if(0!=i.status){this.rectangle1.setTo(i.x-.5*i.validWidth,i.y-i.validHeight,i.validWidth,i.validHeight);for(var a=this.arrayPlay2.length,r=a-1;r>=0;r--){var s=this.arrayPlay2[r];if(5!=s.status&&(this.rectangle2.setTo(s.x-.5*s.validWidth,s.y,s.validWidth,s.validHeight),App.RectangleUtils.intersects(this.rectangle1,this.rectangle2))){this.enemyJumpFlag&&this.selfJumpFlag?i.startJumptime>s.startJumptime?this.onBumpOut(i):this.onBumpOut(s):this.enemyJumpFlag&&!this.selfJumpFlag?this.onBumpOut(i):!this.enemyJumpFlag&&this.selfJumpFlag&&this.onBumpOut(s);break}}}}}},e.prototype.characterMove=function(t,i){for(var a=e.MOVE_SPEED,r=a*t,s=i?this.arrayPlay1:this.arrayPlay2,n=s.length-1;n>=0;n--){var h=s[n];h.currRect&&(h.status%2==0?h.x>r&&(h.x-=r):e.GAME_WIDTH-h.x>r&&(h.x+=r),h.currRect.parent||this.intoWater(h))}},e.prototype.removeCharacter=function(t,e,i){function a(){t.alpha=1,r.recoveryCharacter(t),t.isEnemy||0!=t.status||r.onAddNewSelf()}void 0===e&&(e=!0),void 0===i&&(i="fallintowater"),egret.Tween.removeTweens(t);var r=this;e?(t.armature.play("fallintowater",1),""!=i&&this.onParticleEffect(t.x,t.y,i)):t.isEnemy?egret.Tween.get(t).to({y:t.y-150,alpha:0},350).call(a):egret.Tween.get(t).to({y:t.y+150,alpha:0},350).call(a);var s=t.isEnemy?this.arrayPlay2:this.arrayPlay1,n=s.indexOf(t);s.splice(n,1)},e.prototype.enemyIntoWater=function(t){this.removeCharacter(t)},e.prototype.enemybumpOut=function(t){this.removeCharacter(t,!1)},e.prototype.intoWater=function(t){if(DataCenter.instance.room.IsAI||!t.isEnemy){var e=App.RandomUtils.limitInteger(10,100)%2+1,i="fallWater_"+e+"_mp3";if(App.SoundManager.playEffect(i),this.removeCharacter(t),!DataCenter.instance.room.IsAI){var a={key:"intoWater",characterID:t.id};App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,JSON.stringify(a))}}},e.prototype.onBumpOut=function(t){if(DataCenter.instance.room.IsAI||!t.isEnemy){var e=App.RandomUtils.limitInteger(10,100)%2+1,i="push_"+e+"_mp3";if(App.SoundManager.playEffect(i),this.removeCharacter(t,!1),!DataCenter.instance.room.IsAI){var a={key:"BumpOut",characterID:t.id};App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,JSON.stringify(a))}}},e.prototype.onLand=function(t,e){if((DataCenter.instance.room.IsAI||!t.isEnemy)&&(t.armature.play("down",1),t.currRect=e,!DataCenter.instance.room.IsAI)){var i={key:"setRect",characterID:t.id,rectID:e.id,offsetX:t.x-e.x};App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,JSON.stringify(i))}},e.prototype.enemyJump=function(){var t=this,e=App.RandomUtils.limitInteger(10,100)%2+1,i="jump_"+e+"_mp3";App.SoundManager.playEffect(i),this.enemyJumpFlag=!0;for(var a=250,r=new Date,s=0;s<this.arrayPlay2.length;++s){var n=this.arrayPlay2[s];this.arrayPlay2[s].startJumptime=r.getTime(),n.status--,n.armature.play("jump",1),egret.Tween.get(n).to({y:n.y+200},a).call(this.onJucde.bind(this,n))}egret.setTimeout(function(){t.enemyJumpFlag=!1,DataCenter.instance.room.IsAI&&t.createAiEnemy()},this,a)},e.prototype.onJump=function(){var t=this,e=App.RandomUtils.limitInteger(10,100)%2+1,i="jump_"+e+"_mp3";App.SoundManager.playEffect(i),this.selfJumpFlag=!0,this.btn_jump.touchEnabled=!1,this.containerheight.touchEnabled=!1;for(var a=250,r=new Date,s=0;s<this.arrayPlay1.length;++s){var n=this.arrayPlay1[s];this.arrayPlay1[s].startJumptime=r.getTime(),n.status++,n.armature.play("jump",1),egret.Tween.get(n).to({y:n.y-200},a).call(this.onJucde.bind(this,n))}if(App.TimerManager.doTimer(a,1,function(){t.onAddNewSelf(),t.selfJumpFlag=!1,t.btn_jump.touchEnabled=!0,t.containerheight.touchEnabled=!0},this),!DataCenter.instance.room.IsAI){var h={key:"jump"};App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,JSON.stringify(h))}},e.prototype.enemyJumpSuccess=function(){var t="jump_success_mp3";App.SoundManager.playEffect(t),this.numScore2++,this.numScore2=Math.min(this.numScore2,e.MAX_SCORE),this.roleAvatar2.armature.play("dong",1);var i=e.MAX_SCORE+1,a=Math.floor((i-this.numScore2-1)/i*this.img_blue.width);egret.Tween.get(this.img_blue.mask).to({x:a},500)},e.prototype.selfJumpSuccess=function(){var t="jump_success_mp3";App.SoundManager.playEffect(t),this.numScore1++,this.numScore1=Math.min(this.numScore1,e.MAX_SCORE),this.roleAvatar1.armature.play("dong",1);var i=e.MAX_SCORE+1,a=Math.floor((this.numScore1+1)/i*this.img_red.width-this.img_red.width);if(egret.Tween.get(this.img_red.mask).to({x:a},500),!DataCenter.instance.room.IsAI){var r={key:"setScore"};App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,JSON.stringify(r))}},e.prototype.onJucde=function(t){if(t.isEnemy){if(0==t.status)return this.onParticleEffect(t.x,t.y,"win1"),this.removeCharacter(t,!0,""),void(DataCenter.instance.room.IsAI&&this.enemyJumpSuccess())}else if(5==t.status)return this.onParticleEffect(t.x,t.y,"win1"),this.removeCharacter(t,!0,""),void this.selfJumpSuccess();t.localToGlobal(0,0,this.tmpPoint);var e;1==t.status?e=this.containerGame.tip1.hitTest(this.tmpPoint.x):2==t.status?e=this.containerGame.tip2.hitTest(this.tmpPoint.x):3==t.status?e=this.containerGame.tip3.hitTest(this.tmpPoint.x):4==t.status&&(e=this.containerGame.tip4.hitTest(this.tmpPoint.x)),e?this.onLand(t,e):this.intoWater(t)},e.prototype.dispose=function(){t.prototype.dispose.call(this),App.MessageCenter.removeListener(EventMessage.ReceiveGameEventS2C,this.onGameEvent,this),App.MessageCenter.removeListener(EventMessage.ReceiveGameResultS2C,this.onGameResult,this),App.MessageCenter.removeListener(EventMessage.pauseMessage,this.pauseCallback,this);for(var i=Object.keys(e.Rects);i.length;){var a=i.pop();e.Rects[a]=null,delete e.Rects[a]}for(this.roleAvatar1.dispose(),this.roleAvatar2.dispose();this.arrayPlay1.length;){var r=this.arrayPlay1.pop();this.recoveryCharacter(r)}for(;this.arrayPlay2.length;){var r=this.arrayPlay2.pop();this.recoveryCharacter(r)}ObjectPool.clearClass("FrogCharacterSelf","dispose"),ObjectPool.clearClass("FrogCharacterEnemy","dispose")},e.prototype.armaturePlayEnd=function(t){var e=t.currentTarget.parent,i=e.parent;"fallintowater"==e.currAction&&(this.recoveryCharacter(i),i.isEnemy||0!=i.status||this.onAddNewSelf())},e.prototype.recoveryCharacter=function(t){t.armature.removeDisplayEvent(dragonBones.AnimationEvent.LOOP_COMPLETE,this.armaturePlayEnd,this),App.DisplayUtils.removeFromParent(t),ObjectPool.push(t)},e.prototype.onAddNewSelf=function(){var t=this.arrayPlay1.length;if(!t||0!=this.arrayPlay1[t-1].status){var i=ObjectPool.pop(FrogCharacter,"FrogCharacterSelf");if(i.init(DataCenter.instance.user),i.armature.play("newAnimation"),i.id=++e.Character_ID,i.x=App.RandomUtils.limitInteger(50,350),i.y=1110,i.status=0,i.currRect=null,i.armature.addDisplayEvent(dragonBones.AnimationEvent.LOOP_COMPLETE,this.armaturePlayEnd,this),this.onParticleEffect(i.x,i.y,"newParticle"),this.containerPeople.addChild(i),this.arrayPlay1.push(i),!DataCenter.instance.room.IsAI){var a={key:"createCharacter",id:i.id,initX:i.x};App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,JSON.stringify(a))}}},e.prototype.onAddNewEnemy=function(t,e){var i=ObjectPool.pop(FrogCharacter,"FrogCharacterEnemy");i.init(DataCenter.instance.room.player),i.armature.play("newAnimation"),i.id=t,i.x=e,i.y=110,i.scaleY=-1,i.status=5,i.currRect=null,i.armature.addDisplayEvent(dragonBones.AnimationEvent.LOOP_COMPLETE,this.armaturePlayEnd,this),this.containerPeople.addChild(i),this.arrayPlay2.push(i)},e.prototype.addAllLotusDb=function(){this.flower1=AssetManager.getQuickDBArmature("lotus"),this.flower1.scaleX=this.flower1.scaleY=.6,this.flower1.x=61,this.flower1.y=245+this.container.y,this.container.addChild(this.flower1),this.flower1.play("lotus",0),this.flower2=AssetManager.getQuickDBArmature("lotus"),this.flower2.scaleX=this.flower2.scaleY=.7,this.flower2.x=491,this.flower2.y=409+this.container.y,this.container.addChild(this.flower2),this.flower2.play("lotus"),this.flower3=AssetManager.getQuickDBArmature("lotus"),this.flower3.x=55,this.flower3.y=815+this.container.y,this.container.addChild(this.flower3),this.flower3.play("lotus")},e.prototype.addAllRainbow=function(){var t=App.DisplayUtils.createBitmap("caihong_png");this.containerheight.addChild(t),t.x=this.containerheight.width-t.width,t.y=335;var e=App.DisplayUtils.createBitmap("caihong_png");this.containerheight.addChild(e),e.scaleX=-1,e.x=e.width,e.y=533;var i=App.DisplayUtils.createBitmap("");i.width=this.containerheight.width,i.height=this.containerheight.height,this.containerheight.addChild(i),i.x=0,i.y=0},e.prototype.onParticleEffect=function(t,e,i){var a=RES.getRes(i+"_png"),r=RES.getRes(i+"_json"),s=new particle.GravityParticleSystem(a,r);s.y=e,s.x=t,this.containerEffect.addChild(s),s.start(500)},e.MOVE_SPEED=.1,e.IMPACT_parameter=.75,e.GAME_WIDTH=640,e.GAME_HEIGHT=1136,e.Rect_ID=0,e.Character_ID=0,e.MAX_SCORE=12,e.Rects={},e}(State);__reflect(GameLeonardFroG.prototype,"GameLeonardFroG");var GameLeonardFrogMap=function(t){function e(){var e=t.call(this)||this;return e.width=640,e.height=800,e}return __extends(e,t),e.prototype.createSelfTips=function(){this.tip1=new MoveTips(1);var t=this.tip1.create();this.tip2=new MoveTips(2);var e=this.tip2.create();return this.tip2.scaleX=-1,this.tip2.x=this.width,this.tip2.y=400,this.tip1.y=600,this.addChild(this.tip1),this.addChild(this.tip2),[t,e]},e.prototype.createEnemyTips=function(t,e){this.tip3=new MoveTips(3),this.tip3.full(e),this.tip4=new MoveTips(4),this.tip4.full(t),this.tip4.scaleX=-1,this.tip4.x=this.width,this.tip4.y=0,this.tip3.y=200,this.addChild(this.tip3),this.addChild(this.tip4)},e.prototype.tick=function(t){this.tip1.tick(t),this.tip2.tick(t),this.tip3.tick(t),this.tip4.tick(t)},e}(egret.DisplayObjectContainer);__reflect(GameLeonardFrogMap.prototype,"GameLeonardFrogMap");var MoveRect=function(t){function e(e,i){var a=t.call(this)||this;return a.space=i,a.flower1=AssetManager.getQuickDBArmature("lotus"),a.addChild(a.flower1),a.flower1.play("wood",0),a.img1=App.DisplayUtils.createBitmap("kuai"+e+"_png"),a.addChild(a.img1),a.flower1.x=0,a.flower1.y=a.img1.height/2,a}return __extends(e,t),e.prototype.hitTest=function(t){return this.parent?(this.tmpPoint?(this.tmpPoint.x+=(this.x-this.tmpX)*this.parent.scaleX,this.tmpX=this.x):(this.tmpPoint=new egret.Point,this.tmpX=this.x,-1==this.parent.scaleX?this.localToGlobal(this.img1.width,0,this.tmpPoint):this.localToGlobal(0,0,this.tmpPoint)),t>this.tmpPoint.x&&t<this.tmpPoint.x+this.img1.width?!0:!1):!1},e}(egret.DisplayObjectContainer);__reflect(MoveRect.prototype,"MoveRect");var MoveTips=function(t){function e(e){var i=t.call(this)||this;return i.num=e,i.tickNum=0,i.width=GameLeonardFroG.GAME_WIDTH,i.height=200,i.rects=[],i.tmpPoint=new egret.Point,i}return __extends(e,t),e.prototype.create=function(){for(var t=[],e=this.width,i=0,a=e;1.5*e>i;){var r=App.RandomUtils.limitInteger(1,3),s=App.RandomUtils.limitInteger(30,100);GameLeonardFroG.Rect_ID++;var n=new MoveRect(r,s);n.id=DataCenter.instance.user.id+"_"+GameLeonardFroG.Rect_ID,a-=n.width,i+=n.width,n.x=a,n.y=.5*(this.height-n.height),this.rects.push(n),GameLeonardFroG.Rects[n.id]=n,a-=s,i+=s,t.push({id:n.id,resId:r,space:s})}return this.rects=this.rects.reverse(),this.rectsLen=this.rects.length,t},e.prototype.full=function(t){var e=this,i=this.width,a=i;t.forEach(function(t){var i=t.resId,r=t.space,s=t.id,n=new MoveRect(i,r);n.id=s,a-=n.width,n.x=a,n.y=.5*(e.height-n.height),e.rects.push(n),GameLeonardFroG.Rects[n.id]=n,a-=r}),this.rects=this.rects.reverse(),this.rectsLen=this.rects.length},e.prototype.tick=function(t){var e=GameLeonardFroG.MOVE_SPEED,i=e*t,a=this.width,r=!1;0==this.tickNum&&(r=!0),this.tickNum++,this.tickNum>5&&(this.tickNum=0);for(var s=0,n=this.rectsLen;n>s;s++){var h=this.rects[s];h.x+=i,r&&(h.x+h.width>=0&&h.x<=a?App.DisplayUtils.quickAddChild(this,h):App.DisplayUtils.quickRemoveChild(h))}var o=this.rects[this.rectsLen-1];if(o.x>a){var p=this.rects[0];o.x=p.x-p.space-o.width,this.rects.pop(),this.rects.splice(0,0,o)}},e.prototype.hitTest=function(t){for(var e=0,i=this.rectsLen;i>e;e++){var a=this.rects[e];if(a.hitTest(t))return a}return null},e}(egret.DisplayObjectContainer);__reflect(MoveTips.prototype,"MoveTips");