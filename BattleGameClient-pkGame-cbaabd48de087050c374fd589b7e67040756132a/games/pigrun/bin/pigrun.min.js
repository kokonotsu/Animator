var __reflect=this&&this.__reflect||function(e,t,a){e.__class__=t,a?a.push(t):a=[t],e.__types__=e.__types__?a.concat(e.__types__):a},__extends=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);a.prototype=t.prototype,e.prototype=new a},GamePigRunEventClass=function(){function e(){}return e.EVENT_OTHER_DO="otherdo",e.EVENT_TIMEOUT="timeout",e.EVENT_OTHER_IS_RED="otherRed",e.EVENT_OTHER_IS_BLUE="otherBlue",e.EVENT_OTHER_IS_YELLOW="otherYellow",e.EVENT_YOU_WIN="youWin",e.EVENT_YOU_LOSE="youLose",e.EVENT_INITIALIZE_COLOR_ARRAY="initColor",e.EVENT_OTHER_WIN="otherWin",e.EVENT_STOP_GAME="stop",e.EVENT_READY="ready",e.EVENT_REDBTN="rbtn",e.EVENT_BLUEBTN="bbtn",e.EVENT_DEATHBTN="dbtn",e.EVENT_NEWTURN="newturn",e}();__reflect(GamePigRunEventClass.prototype,"GamePigRunEventClass");var GamePigRunLogic=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.gameOver=function(e){App.MessageCenter.dispatch(EventMessage.SendGameResultC2S,e)},t.orderNum=-1,t.otherOrderNum=8,t.colorSettings=[],t.colorOtherSettings=[],t.wrongSwitcher=!1,t.gameModeisDeathMode=!1,t.isOffline=!1,t.colorArray=[],t.localMessageCenter=function(e){if(1!=t.isOffline)switch(e){case GamePigRunEventClass.EVENT_OTHER_DO:App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,GamePigRunEventClass.EVENT_OTHER_DO);break;case GamePigRunEventClass.EVENT_TIMEOUT:App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,GamePigRunEventClass.EVENT_TIMEOUT);break;case GamePigRunEventClass.EVENT_OTHER_IS_RED:App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,GamePigRunEventClass.EVENT_OTHER_IS_RED);break;case GamePigRunEventClass.EVENT_OTHER_IS_BLUE:App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,GamePigRunEventClass.EVENT_OTHER_IS_BLUE);break;case GamePigRunEventClass.EVENT_YOU_WIN:t.gameOver(3);break;case GamePigRunEventClass.EVENT_YOU_LOSE:t.gameOver(1);break;case GamePigRunEventClass.EVENT_INITIALIZE_COLOR_ARRAY:var a=GamePigRunEventClass.EVENT_INITIALIZE_COLOR_ARRAY;t.colorSettings.forEach(function(e){a+="|"+e}),App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,a);break;case GamePigRunEventClass.EVENT_OTHER_WIN:App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,GamePigRunEventClass.EVENT_OTHER_WIN);break;case GamePigRunEventClass.EVENT_STOP_GAME:App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,GamePigRunEventClass.EVENT_STOP_GAME+"|"+GamePigRunMainScene.result);break;case GamePigRunEventClass.EVENT_READY:App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,GamePigRunEventClass.EVENT_READY,1);break;case GamePigRunEventClass.EVENT_REDBTN:App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,GamePigRunEventClass.EVENT_REDBTN,1);break;case GamePigRunEventClass.EVENT_BLUEBTN:App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,GamePigRunEventClass.EVENT_BLUEBTN,1);break;case GamePigRunEventClass.EVENT_DEATHBTN:App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,GamePigRunEventClass.EVENT_DEATHBTN,1);break;case GamePigRunEventClass.EVENT_NEWTURN:App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,GamePigRunEventClass.EVENT_NEWTURN+"|"+GamePigRunMainScene.gameTurns.toString())}},t.baseNumManager=function(e){return 15==e?e=0:e+=1,e},t.numManager=function(){return t.orderNum=t.baseNumManager(t.orderNum)},t.otherNumManager=function(){return t.otherOrderNum=t.baseNumManager(t.otherOrderNum)},t.baseColorManager=function(e,a){return void 0!=a?e:void(t.logicLocalColor=t.colorSettings[t.orderNum])},t.returnColor=function(e){var a,o=Math.random();if(t.colorArray.length>3&&t.colorArray.shift(),.5>o&&o>=0?(a="red",t.colorArray.push("red")):1>=o&&o>.5&&(a="blue",t.colorArray.push("blue")),t.colorArray.length>2&&t.colorArray[t.colorArray.length-3]===t.colorArray[t.colorArray.length-2]&&t.colorArray[t.colorArray.length-2]===t.colorArray[t.colorArray.length-1])switch(a){case"red":return t.colorArray[t.colorArray.length-1]="blue",t.baseColorManager("blue",e);case"blue":return t.colorArray[t.colorArray.length-1]="red",t.baseColorManager("red",e)}return t.baseColorManager(a,e)},t.getColor=function(e){if(void 0==e)return t.returnColor();switch(t.isOffline){case!0:for(var a=0;16>a;a++)t.colorSettings.push(t.returnColor("init"));return t.logicLocalColor=t.colorSettings[0],t.colorSettings[0];case!1:for(var a=0;8>a;a++)t.colorSettings.push(t.returnColor("init"));t.logicLocalColor=t.colorSettings[0],t.localMessageCenter(GamePigRunEventClass.EVENT_INITIALIZE_COLOR_ARRAY);var o=t.colorSettings[0].replace(t.colorSettings[0],t.colorSettings[0].toUpperCase());return App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,"other"+o),t.colorSettings[0]}},t.switchColor=function(e,t){var a;if(t){switch(e){case"red":a="PR_redBorder_png";break;case"blue":a="PR_blueBorder_png";break;case"glary":a="PR_glaryBorder_png"}return a}switch(e){case"red":a="PR_redAngle_png";break;case"blue":a="PR_blueAngle_png";break;case"glary":a="PR_glaryAngle_png"}return a},t.changeColor=function(e,a,o){void 0!=o?e.texture=RES.getRes(t.switchColor(a,o)):e.texture=RES.getRes(t.switchColor(a))},t.partExhibition=function(e,a,o,r){if(void 0!=a&&t.changeColor(e,a),r&&1==r)e.rotation=GamePigRunMainScene.partRotation[o];else{egret.Tween.removeTweens(e);var n=egret.Tween.get(e);switch(e){case GamePigRunMainScene.part_you:n.to({rotation:e.rotation-22.5},30),n.call(function(){e.rotation=GamePigRunMainScene.youTarget});break;case GamePigRunMainScene.part_other:n.to({rotation:e.rotation-22.5},30),0==t.isOffline&&n.call(function(){e.rotation=GamePigRunMainScene.target})}}},t.roleExhibition=function(e,a,o){if(-1==a&&(a=15),o&&1==o)e.rotation=GamePigRunMainScene.partRotation[a];else{egret.Tween.removeTweens(e);var r=egret.Tween.get(e);switch(e){case GamePigRunMainScene.role_you:r.to({rotation:e.rotation-22.5},30),r.call(function(){e.rotation=GamePigRunMainScene.youTarget});break;case GamePigRunMainScene.role_other:r.to({rotation:e.rotation-22.5},30),0==t.isOffline&&r.call(function(){e.rotation=GamePigRunMainScene.target})}switch(e.name){case"role_you":GamePigRunMainScene.roleYouRotation=GamePigRunMainScene.partRotation[t.orderNum];break;case"role_other":GamePigRunMainScene.roleOtherRotation=GamePigRunMainScene.partRotation[t.orderNum]}}},t.gameJudge=function(){if(t.orderNum-t.otherOrderNum===1||t.orderNum-t.otherOrderNum===-15)t.whoWillWin="other";else if(t.orderNum-t.otherOrderNum===-1||t.orderNum-t.otherOrderNum===15)t.whoWillWin="you";else if(t.orderNum===t.otherOrderNum)switch(t.whoWillWin){case"you":GamePigRunMainScene.result="you";break;case"other":GamePigRunMainScene.result="other"}},t}(egret.DisplayObjectContainer);__reflect(GamePigRunLogic.prototype,"GamePigRunLogic");var GamePigRunMainScene=function(e){function t(){var a=e.call(this)||this;return a.readyState=[0,0],a.randomTime=4,a.reset=function(){console.log("RESET"),t.role_you&&t.role_you.stop(),t.role_other&&t.role_other.stop(),t.result=void 0,GamePigRunLogic.logicLocalColor=void 0,GamePigRunLogic.keyPress=void 0,GamePigRunLogic.orderNum=-1,GamePigRunLogic.otherOrderNum=8,GamePigRunLogic.whoWillWin=void 0,GamePigRunLogic.colorSettings=[],GamePigRunLogic.wrongSwitcher=!1,GamePigRunLogic.colorOtherSettings=[],t.borderRotation=void 0,t.ai=0},a.twManager=function(e){switch(e){case"koText":var a=egret.Tween.get(t.koText);t.koText.alpha=1,a.to({scaleX:1,scaleY:1},300);break;case"resultText":var o=egret.Tween.get(t.resultText);t.resultText.alpha=1,o.to({x:t.resultText.x-200},100),o.to({x:t.resultText.x+200},100),o.to({x:t.resultText.x-100},100),o.to({x:t.resultText.x+100},100),o.to({x:t.resultText.x},100);break;case"roundText":t.roundText.alpha=1;var r=egret.Tween.get(t.roundText);r.to({rotation:t.resultText.rotation+40},100),r.to({rotation:t.resultText.rotation-40},100),r.to({rotation:t.resultText.rotation+20},100),r.to({rotation:t.resultText.rotation-20},100),r.to({rotation:t.resultText.rotation},100)}},a.artificial=function(){t.ai+=1;var e=Math.random();switch(GamePigRunLogic.gameModeisDeathMode){case!0:switch(App.CurrGameAiLevel){case 1:.04>=e&&e>=0&&a.otherDo();break;case 2:.06>=e&&e>=0&&a.otherDo();break;case 3:.08>=e&&e>=0&&a.otherDo();break;case 4:t.ai==a.randomTime&&(a.otherDo(),a.randomTime=4+Math.round(2*Math.random()+.1),t.ai=0);break;case 5:t.ai==a.randomTime&&(a.otherDo(),a.randomTime=2+Math.round(1*Math.random()-.1),t.ai=0)}break;case!1:switch(App.CurrGameAiLevel){case 1:20==t.ai&&(.4>=e&&e>=0&&a.otherDo(),t.ai=0);break;case 2:20==t.ai&&(.6>=e&&e>=0&&a.otherDo(),t.ai=0);break;case 3:20==t.ai&&(.8>=e&&e>=0&&a.otherDo(),t.ai=0);break;case 4:16==t.ai&&(.85>=e&&e>=0?(a.otherDo(),t.ai=0):t.ai=8);break;case 5:10==t.ai&&(.98>=e&&e>=0?(a.otherDo(),t.ai=0):t.ai=7)}}switch(GamePigRunLogic.colorSettings[GamePigRunLogic.otherOrderNum]){case"red":GamePigRunLogic.changeColor(a.getChildByName("part_other"),"red");break;case"blue":GamePigRunLogic.changeColor(a.getChildByName("part_other"),"blue");break;case"yellow":GamePigRunLogic.changeColor(a.getChildByName("part_other"),"yellow")}20==t.ai&&(t.ai=0)},a.win=function(){return t.youTarget=0,t.target=-180,0==GamePigRunLogic.isOffline&&GamePigRunLogic.localMessageCenter(GamePigRunEventClass.EVENT_NEWTURN),t.btnDeath.touchEnabled=!1,t.btnBlue.touchEnabled=!1,t.btnRed.touchEnabled=!1,console.log("你赢了！"),a.resultEffectManager(),a.addHeadIco(),t.running=!1,t.mark_you+=1,2==t.mark_you?(a.twManager("koText"),t.resultText.texture=AssetManager.getBitmap("PR_win_png").texture,t.volume_you.play("PR_music_ko_mp3",!0),a.twManager("resultText"),a.resultEffectManager(),void(0==GamePigRunLogic.isOffline?(GamePigRunLogic.localMessageCenter(GamePigRunEventClass.EVENT_STOP_GAME),App.TimerManager.doTimer(300,1,function(){GamePigRunLogic.localMessageCenter(GamePigRunEventClass.EVENT_YOU_WIN)},a)):GamePigRunLogic.gameOver(3))):(a.reset(),t.koText.alpha=0,t.resultText.alpha=0,t.roundText.alpha=0,void App.TimerManager.doTimer(1e3,1,function(){App.TimerManager.doTimer(750,1,function(){t.role_other.play("zhuli1",0),t.role_you.play("zhuli2",0),GamePigRunLogic.roleExhibition(a.getChildByName("role_you"),0,!0),GamePigRunLogic.roleExhibition(a.getChildByName("role_other"),8,!0),a.gameStartManager()},a),CircleMask.hide(function(){CircleMask.show(function(){})})},a))},a.lose=function(){return a.resultEffectManager(),t.youTarget=0,t.target=-180,t.btnDeath.touchEnabled=!1,t.btnBlue.touchEnabled=!1,t.btnRed.touchEnabled=!1,console.log("你输了！"),a.addHeadIco(),t.running=!1,t.mark_other+=1,2==t.mark_other?(a.twManager("koText"),t.resultText.texture=AssetManager.getBitmap("PR_lose_png").texture,t.volume_you.play("PR_music_ko_mp3",!0),a.twManager("resultText"),a.resultEffectManager(),void(0==GamePigRunLogic.isOffline?GamePigRunLogic.localMessageCenter(GamePigRunEventClass.EVENT_YOU_LOSE):GamePigRunLogic.gameOver(1))):(a.reset(),t.koText.alpha=0,t.resultText.alpha=0,t.roundText.alpha=0,void App.TimerManager.doTimer(1e3,1,function(){App.TimerManager.doTimer(750,1,function(){t.role_other.play("zhuli1",0),t.role_you.play("zhuli2",0),GamePigRunLogic.roleExhibition(a.getChildByName("role_you"),0,!0),GamePigRunLogic.roleExhibition(a.getChildByName("role_other"),8,!0),a.gameStartManager()},a),CircleMask.hide(function(){CircleMask.show(function(){})})},a))},a.colorStepManager=function(e){if(void 0===e&&(e=!1),0==e){1==GamePigRunLogic.gameModeisDeathMode&&(t.role_you.alpha=0);var o=GamePigRunLogic.numManager(),r=GamePigRunLogic.colorSettings[o].replace(GamePigRunLogic.colorSettings[o][0],GamePigRunLogic.colorSettings[o][0].toUpperCase());switch(0==GamePigRunLogic.isOffline&&App.MessageCenter.dispatch(EventMessage.SendGameEventC2S,"other"+r),t.volume_you.play("PR_music_running_mp3",!0),GamePigRunLogic.gameModeisDeathMode){case!0:t.role_you.play("lanbaozou",1),App.TimerManager.doTimer(370,1,function(){t.role_you.stop(),t.role_you.play("baozouli2",0)},a);break;case!1:t.role_you.play("lantiao",1),App.TimerManager.doTimer(400,1,function(){t.role_you.stop(),t.role_you.play("zhuli2",0)},a)}GamePigRunLogic.partExhibition(a.getChildByName("part_you"),GamePigRunLogic.colorSettings[o],o),GamePigRunLogic.roleExhibition(a.getChildByName("role_you"),o),t.roleYouRotation=t.partRotation[o],GamePigRunLogic.logicLocalColor=GamePigRunLogic.colorSettings[o]}else 1==e&&(GamePigRunLogic.partExhibition(a.getChildByName("part_you"),void 0,GamePigRunLogic.orderNum),GamePigRunLogic.roleExhibition(a.getChildByName("role_you"),GamePigRunLogic.orderNum),t.roleYouRotation=t.partRotation[GamePigRunLogic.orderNum],GamePigRunLogic.logicLocalColor=GamePigRunLogic.colorSettings[GamePigRunLogic.orderNum])},a.wrongPressDeal=function(){if(0==GamePigRunLogic.wrongSwitcher){switch(GamePigRunLogic.logicLocalColor){case"blue":t.part_you.texture=AssetManager.getBitmap("PR_blueAngle_blin_png",!0,!1).texture;break;case"red":t.part_you.texture=AssetManager.getBitmap("PR_redAngle_blin_png",!0,!1).texture}a.getChildByName("btnRed").touchEnabled=!1,a.getChildByName("btnBlue").touchEnabled=!1,t.btnRed&&t.btnBlue&&(t.btnRed.stop(),t.btnRed.play("btnRedWrong",0),t.btnBlue.stop(),t.btnBlue.play("btnBlueWrong",0)),GamePigRunLogic.wrongSwitcher=!0,App.TimerManager.doTimer(500,1,function(){switch(GamePigRunLogic.logicLocalColor){case"blue":t.part_you.texture=AssetManager.getBitmap("PR_blueAngle_png",!0,!1).texture;break;case"red":t.part_you.texture=AssetManager.getBitmap("PR_redAngle_png",!0,!1).texture}a.getChildByName("btnRed").touchEnabled=!0,a.getChildByName("btnBlue").touchEnabled=!0,t.btnRed&&t.btnBlue&&(t.btnRed.stop(),t.btnRed.play("btnRedNormal",0),t.btnBlue.stop(),t.btnBlue.play("btnBlueNormal",0)),GamePigRunLogic.wrongSwitcher=!1,t.keyState=0},a)}},a.circleLogic=function(){if(0==t.running)return egret.stopTick(a.circleLogic,a),void console.log("Tick has stoped!");switch(t.tipsSwitcher){case 0:break;case 1:t.tipsCover.alpha=0,t.tipsCover.stop(),t.tipsSwitcher=2;break;case 2:}switch(GamePigRunLogic.gameModeisDeathMode){case!0:360==a.getChildByName("basicCircleBorder").rotation?a.getChildByName("basicCircleBorder").rotation=0:a.getChildByName("basicCircleBorder").rotation+=3,a.getChildByName("role_you").alpha=1,a.getChildByName("role_other").alpha=1,void 0==t.result&&(t.borderRotation=a.getChildByName("basicCircleBorder").rotation,a.getChildByName("role_you").rotation=t.roleYouRotation+t.borderRotation,a.getChildByName("role_other").rotation=t.roleOtherRotation+t.borderRotation),void 0!=GamePigRunLogic.keyPress&&(GamePigRunLogic.keyPress=void 0,t.particleManager("death",.5),t.volume_global.play("PR_pressRight_mp3",!0),a.colorStepManager(),0==GamePigRunLogic.isOffline&&GamePigRunLogic.localMessageCenter(GamePigRunEventClass.EVENT_OTHER_DO));break;case!1:}return 1==GamePigRunLogic.isOffline&&a.artificial(),!0},a.gameResultCheck=function(){GamePigRunLogic.gameJudge(),"you"==t.result&&(a.win(),t.volume_global.play("PR_pound_mp3",!0)),"other"==t.result&&(a.lose(),t.volume_global.play("PR_bePounded_mp3",!0))},a.initColorBorder=function(){for(var e=0;16>e;e++)GamePigRunLogic.changeColor(a.getChildByName("step"+e.toString()),GamePigRunLogic.colorSettings[e],"true")},a.initNormalColor=function(){for(var e=0;16>e;e++)GamePigRunLogic.changeColor(a.getChildByName("step"+e.toString()),"glary","true");GamePigRunLogic.changeColor(t.part_you,"glary"),GamePigRunLogic.changeColor(t.part_other,"glary")},a.otherDo=function(){1==GamePigRunLogic.gameModeisDeathMode&&(a.getChildByName("role_other").alpha=0);var e=GamePigRunLogic.otherNumManager();switch(t.volume_other.play("PR_music_running_mp3",!0),GamePigRunLogic.gameModeisDeathMode){case!0:t.role_other.play("fenbaozou",1),App.TimerManager.doTimer(370,1,function(){t.role_other.stop(),t.role_other.play("baozouli1",0)},a);break;case!1:t.role_other.play("fentiao",1),App.TimerManager.doTimer(400,1,function(){t.role_other.stop(),t.role_other.play("zhuli1",0)},a)}GamePigRunLogic.partExhibition(a.getChildByName("part_other"),void 0,e),GamePigRunLogic.roleExhibition(a.getChildByName("role_other"),e),t.roleOtherRotation=t.partRotation[e]},a.resultEffectManager=function(){switch(egret.Tween.removeTweens(t.role_you),egret.Tween.removeTweens(t.role_other),egret.Tween.removeTweens(t.part_you),egret.Tween.removeTweens(t.part_other),t.part_you.alpha=0,t.part_other.alpha=0,t.role_you.alpha=1,t.role_other.alpha=1,t.running=!1,a.getChildByName("part_you").alpha=0,a.getChildByName("part_other").alpha=0,t.result){case"you":0==GamePigRunLogic.gameModeisDeathMode?(a.getChildByName("role_you").rotation=t.roleYouRotation+22.5,a.getChildByName("role_other").rotation=t.roleOtherRotation):1==GamePigRunLogic.gameModeisDeathMode&&(a.getChildByName("role_you").rotation=t.roleYouRotation+22.5+t.borderRotation,a.getChildByName("role_other").rotation=t.roleOtherRotation+t.borderRotation),t.role_you.stop(),t.role_other.stop(),t.role_you.play("ding2",0),App.TimerManager.doTimer(300,1,function(){t.role_you.stop(),t.role_you.play("lanbaozou",0)},a),t.role_other.play("zhuang1",0);break;case"other":0==GamePigRunLogic.gameModeisDeathMode?(a.getChildByName("role_other").rotation=t.roleOtherRotation+22.5,a.getChildByName("role_you").rotation=t.roleYouRotation):1==GamePigRunLogic.gameModeisDeathMode&&(a.getChildByName("role_other").rotation=t.roleOtherRotation+22.5+t.borderRotation,a.getChildByName("role_you").rotation=t.roleYouRotation+t.borderRotation),t.role_you.stop(),t.role_other.stop(),t.role_you.play("zhuang2",0),t.role_other.play("ding1",0),App.TimerManager.doTimer(300,1,function(){t.role_other.stop(),t.role_other.play("fenbaozou",0)},a)}},a.resultDuel=function(e){var o=function(){switch(GamePigRunLogic.whoWillWin){case"you":break;case"other":t.resultText.texture=AssetManager.getBitmap("PR_lose_png").texture,t.resultText.alpha=1,t.koText.alpha=1,t.volume_you.play("PR_music_ko_mp3",!0)}App.IsFaceBook&&App.MessageCenter.dispatch("showInterstitialAd"),App.TimerManager.doTimer(3100,1,function(){a.popup("GameResult",null)},a)};egret.stopTick(a.readyTick,a),egret.stopTick(a.circleLogic,a),t.btnBlue.touchEnabled=!1,t.btnRed.touchEnabled=!1,t.btnDeath.touchEnabled=!1,DataCenter.instance.room.gameResult=e,a.popup("GameResult",o)},a.messageDuel=function(e){var o;switch(o=e.event.split("|"),o[0]){case GamePigRunEventClass.EVENT_OTHER_DO:t.target-=22.5,a.otherDo();break;case GamePigRunEventClass.EVENT_TIMEOUT:break;case GamePigRunEventClass.EVENT_OTHER_IS_RED:GamePigRunLogic.changeColor(a.getChildByName("part_other"),"red");break;case GamePigRunEventClass.EVENT_OTHER_IS_BLUE:GamePigRunLogic.changeColor(a.getChildByName("part_other"),"blue");break;case GamePigRunEventClass.EVENT_OTHER_IS_YELLOW:GamePigRunLogic.changeColor(a.getChildByName("part_other"),"yellow");break;case GamePigRunEventClass.EVENT_INITIALIZE_COLOR_ARRAY:for(var r=1;9>r;r++)GamePigRunLogic.colorOtherSettings.push(o[r]);break;case GamePigRunEventClass.EVENT_STOP_GAME:switch(egret.stopTick(a.circleLogic,a),t.btnBlue.touchEnabled=!1,t.btnRed.touchEnabled=!1,t.btnDeath.touchEnabled=!1,o[1]){case"you":t.result="other";break;case"other":t.result="you"}t.resultText.texture=AssetManager.getBitmap("PR_lose_png").texture,a.twManager("resultText"),a.resultEffectManager();break;case GamePigRunEventClass.EVENT_READY:e.userId==DataCenter.instance.user.id?a.readyState[0]=1:e.userId==DataCenter.instance.room.player.id&&(a.readyState[1]=1);break;case GamePigRunEventClass.EVENT_REDBTN:e.userId==DataCenter.instance.user.id&&t.redBtnPress();break;case GamePigRunEventClass.EVENT_BLUEBTN:e.userId==DataCenter.instance.user.id&&t.blueBtnPress();break;case GamePigRunEventClass.EVENT_DEATHBTN:e.userId==DataCenter.instance.user.id&&t.deathBtnPress();break;case GamePigRunEventClass.EVENT_NEWTURN:parseInt(o[1])==t.gameTurns&&(0==t.running,egret.stopTick(a.circleLogic,a),a.lose(),t.volume_global.play("PR_bePounded_mp3",!0),t.result=void 0)}},a.remoteRedBtnPress=function(){0==GamePigRunLogic.isOffline?GamePigRunLogic.localMessageCenter(GamePigRunEventClass.EVENT_REDBTN):t.redBtnPress()},a.remoteBlueBtnPress=function(){0==GamePigRunLogic.isOffline?GamePigRunLogic.localMessageCenter(GamePigRunEventClass.EVENT_BLUEBTN):t.blueBtnPress()},a.remoteDeathBtnPress=function(){0==GamePigRunLogic.isOffline?GamePigRunLogic.localMessageCenter(GamePigRunEventClass.EVENT_DEATHBTN):t.deathBtnPress(),t.instance.gameResultCheck()},a.readyTick=function(){return 1==a.readyState[0]&&1==a.readyState[1]&&GamePigRunLogic.colorOtherSettings.length>0&&(0==a.readyState[0],0==a.readyState[1],egret.stopTick(a.readyTick,a),console.log("ready go!"),App.TimerManager.doTimer(1e3,1,function(){t.readyIMG.play(),a.addChild(t.readyIMG),a.getChildByName("roundText").alpha=0},a)),!1},a.gameStartManager=function(){GamePigRunLogic.logicLocalColor=void 0,GamePigRunLogic.keyPress=void 0,t.btnBlue.touchEnabled=!1,t.btnRed.touchEnabled=!1,t.btnDeath.touchEnabled=!1,t.part_you.alpha=1,t.part_other.alpha=1;var e=GamePigRunLogic.numManager(),o=GamePigRunLogic.getColor("array");a.initNormalColor(),t.role_other.play("zhuli1",0),t.roleOtherRotation=t.partRotation[8],t.role_you.play("zhuli2",0),t.roleYouRotation=t.partRotation[0],t.koText.alpha=0;var r=egret.Tween.get(t.koText);if(r.to({scaleX:.1,scaleY:.1},50),t.gameTurns+=1,3==t.gameTurns){t.tipsCover.alpha=1,t.tipsSwitcher=0,t.tipsCover.play("Prompt2",0),GamePigRunLogic.gameModeisDeathMode=!0,a.getChildByName("backGround").texture=AssetManager.getBitmap("PR_OverCharge_jpg",!1,!1).texture;var n=egret.Tween.get(t.btnRed);n.to({alpha:0,y:t.btnRed.y+200},500);var i=egret.Tween.get(t.btnBlue);i.to({alpha:0,y:t.btnBlue.y+200},500);var l=egret.Tween.get(t.btnDeath);l.to({alpha:1,y:1010},500,egret.Ease.elasticOut),GamePigRunLogic.gameModeisDeathMode=!0,a.getChildByName("rainbowCircleBorder").alpha=1,a.getChildByName("basicCircleBorder").texture=AssetManager.getBitmap("PR_rainbowBorder_png",!1,!1).texture;var s=["part_you","part_other","step0","step1","step2","step3","step4","step5","step6","step7","step8","step9","step10","step11","step12","step13","step14","step15"];s.forEach(function(e){a.getChildByName(e).alpha=0})}t.roundText.texture=AssetManager.getBitmap("PR_round"+t.gameTurns.toString()+"_png").texture,3==t.gameTurns&&(t.roundText.anchorOffsetX=135.5,t.roundText.anchorOffsetY=102.5),GamePigRunLogic.partExhibition(t.part_you,void 0,e,!0),GamePigRunLogic.roleExhibition(a.getChildByName("role_you"),e,!0),GamePigRunLogic.partExhibition(t.part_other,void 0,8,!0),GamePigRunLogic.roleExhibition(a.getChildByName("role_other"),8,!0),t.roleYouRotation=t.partRotation[0],t.roleOtherRotation=t.partRotation[8],a.twManager("roundText"),t.volume_global.play("PR_music_round_mp3",!0),t.running=!0,t.readyIMG=new GameReady(function(){switch(GamePigRunLogic.colorSettings[GamePigRunLogic.otherOrderNum]){case"red":GamePigRunLogic.changeColor(a.getChildByName("part_other"),"red");break;case"blue":GamePigRunLogic.changeColor(a.getChildByName("part_other"),"blue");break;case"yellow":GamePigRunLogic.changeColor(a.getChildByName("part_other"),"yellow")}App.TimerManager.doTimer(1e3,1,function(){egret.startTick(a.circleLogic,a)},a),t.btnBlue.touchEnabled=!0,t.btnRed.touchEnabled=!0,3==t.gameTurns&&(t.btnDeath.touchEnabled=!0),GamePigRunLogic.colorOtherSettings.forEach(function(e){GamePigRunLogic.colorSettings.push(e)}),GamePigRunLogic.partExhibition(t.part_you,o,e,!0),GamePigRunLogic.roleExhibition(a.getChildByName("role_you"),e,!0),GamePigRunLogic.partExhibition(t.part_other,GamePigRunLogic.colorOtherSettings[0],8,!0),GamePigRunLogic.roleExhibition(a.getChildByName("role_other"),8,!0),t.roleYouRotation=t.partRotation[0],t.roleOtherRotation=t.partRotation[8],a.initColorBorder()}),t.readyIMG.x=300,t.readyIMG.y=App.GameHeight/2,1==GamePigRunLogic.isOffline?App.TimerManager.doTimer(2e3,1,function(){t.readyIMG.play(),a.addChild(t.readyIMG),a.getChildByName("roundText").alpha=0},a):(egret.startTick(a.readyTick,a),App.TimerManager.doTimer(1e3,1,function(){GamePigRunLogic.localMessageCenter(GamePigRunEventClass.EVENT_READY)},a))},a.pauseCallback=function(){App.MessageCenter.dispatch(EventMessage.SendGameResultC2S,1),a.next("gameChangeMatch")},a.addHeadIco=function(){var e,o;switch(t.gameTurns){case 1:e=180,o=170;break;case 2:e=320,o=170;break;case 3:e=460,o=170}switch(t.result){case"you":var r=void 0,n=DataCenter.instance.user;r=new RoleAvatar(n.curAvatarType,n.imgUrl,"toukuang"),r.armature.width=170,r.armature.height=170,r.armature.x=e,r.armature.y=o,r.armature.alpha=0,a.addChild(r.armature),t.boomSmoke.x=e,t.boomSmoke.y=o-40,t.boomSmoke.scaleX=1.5,t.boomSmoke.scaleY=1.5;var i=egret.Tween.get(r.armature);App.TimerManager.doTimer(700,1,function(){t.boomSmoke.stop(),t.boomSmoke.play("boom",1)},a),i.to({alpha:1,scaleX:2,scaleY:2},50),i.to({scaleX:.8,scaleY:.8},1e3,egret.Ease.elasticInOut);break;case"other":case void 0:var l=void 0,s=DataCenter.instance.room.player;l=new RoleAvatar(s.curAvatarType,s.imgUrl,"toukuang"),l.armature.width=170,l.armature.height=170,l.armature.x=e,l.armature.y=o,l.armature.alpha=0,a.addChild(l.armature),t.boomSmoke.x=e,t.boomSmoke.y=o-40,t.boomSmoke.scaleX=1.5,t.boomSmoke.scaleY=1.5;var g=egret.Tween.get(l.armature);App.TimerManager.doTimer(700,1,function(){t.boomSmoke.stop(),t.boomSmoke.play("boom",1)},a),g.to({alpha:1,scaleX:2,scaleY:2},50),g.to({scaleX:.8,scaleY:.8},1e3,egret.Ease.elasticInOut)}},a.gameStart=function(){var e=AssetManager.getBitmap("PR_backGround_jpg",!1,!1);e.height=1136,e.width=640,e.x=0,e.y=0,e.name="backGround",a.addChild(e);var o=AssetManager.getBitmap("PR_yellowBorder_png",!0,!1);o.x=319.5,o.y=526,o.anchorOffsetY=0,o.name="step0",o.rotation=t.partRotation[0],a.addChild(o);var r=AssetManager.getBitmap("PR_yellowBorder_png",!0,!1);r.x=319.5,r.y=526,r.anchorOffsetY=0,r.name="step1",r.rotation=t.partRotation[1],a.addChild(r);var n=AssetManager.getBitmap("PR_yellowBorder_png",!0,!1);n.x=319.5,n.y=526,n.anchorOffsetY=0,n.name="step2",n.rotation=t.partRotation[2],a.addChild(n);var i=AssetManager.getBitmap("PR_yellowBorder_png",!0,!1);i.x=319.5,i.y=526,i.anchorOffsetY=0,i.name="step3",i.rotation=t.partRotation[3],a.addChild(i);var l=AssetManager.getBitmap("PR_yellowBorder_png",!0,!1);l.x=319.5,l.y=526,l.anchorOffsetY=0,l.name="step4",l.rotation=t.partRotation[4],a.addChild(l);var s=AssetManager.getBitmap("PR_yellowBorder_png",!0,!1);s.x=319.5,s.y=526,s.anchorOffsetY=0,s.name="step5",s.rotation=t.partRotation[5],a.addChild(s);var g=AssetManager.getBitmap("PR_yellowBorder_png",!0,!1);g.x=319.5,g.y=526,g.anchorOffsetY=0,g.name="step6",g.rotation=t.partRotation[6],a.addChild(g);var u=AssetManager.getBitmap("PR_yellowBorder_png",!0,!1);u.x=319.5,u.y=526,u.anchorOffsetY=0,u.name="step7",u.rotation=t.partRotation[7],a.addChild(u);var c=AssetManager.getBitmap("PR_yellowBorder_png",!0,!1);c.x=319.5,c.y=526,c.anchorOffsetY=0,c.name="step8",c.rotation=t.partRotation[8],a.addChild(c);var m=AssetManager.getBitmap("PR_yellowBorder_png",!0,!1);m.x=319.5,m.y=526,m.anchorOffsetY=0,m.name="step9",m.rotation=t.partRotation[9],a.addChild(m);var d=AssetManager.getBitmap("PR_yellowBorder_png",!0,!1);d.x=319.5,d.y=526,d.anchorOffsetY=0,d.name="step10",d.rotation=t.partRotation[10],a.addChild(d);var h=AssetManager.getBitmap("PR_yellowBorder_png",!0,!1);h.x=319.5,h.y=526,h.anchorOffsetY=0,h.name="step11",h.rotation=t.partRotation[11],a.addChild(h);var p=AssetManager.getBitmap("PR_yellowBorder_png",!0,!1);p.x=319.5,p.y=526,p.anchorOffsetY=0,p.name="step12",p.rotation=t.partRotation[12],a.addChild(p);var R=AssetManager.getBitmap("PR_yellowBorder_png",!0,!1);R.x=319.5,R.y=526,R.anchorOffsetY=0,R.name="step13",R.rotation=t.partRotation[13],a.addChild(R);var _=AssetManager.getBitmap("PR_yellowBorder_png",!0,!1);_.x=319.5,_.y=526,_.anchorOffsetY=0,_.name="step14",_.rotation=t.partRotation[14],a.addChild(_);var y=AssetManager.getBitmap("PR_yellowBorder_png",!0,!1);y.x=319.5,y.y=526,y.anchorOffsetY=0,y.name="step15",y.rotation=t.partRotation[15],a.addChild(y);var E=AssetManager.getBitmap("PR_rainbowBorder__png",!0,!0);E.x=321,E.y=525.5,E.alpha=0,E.name="rainbowCircleBorder",a.addChild(E);var b=AssetManager.getBitmap("PR_circleBorder_png",!1,!1);b.anchorOffsetX=302,b.anchorOffsetY=302,b.x=321,b.y=525.5,b.name="basicCircleBorder",a.addChild(b),t.btnRed=AssetManager.getDBArmature("PR_btnRedDB"),t.btnRed.timeScale=2,t.btnRed.x=195,t.btnRed.y=1010,t.btnRed.name="btnRed",t.btnRed.touchEnabled=!1,a.addChild(t.btnRed),t.btnRed.addEventListener(egret.TouchEvent.TOUCH_TAP,a.remoteRedBtnPress,a),t.btnRed.timeScale=2,t.btnRed.play("btnRedNormal",0),t.btnBlue=AssetManager.getDBArmature("PR_btnBlueDB"),t.btnBlue.timeScale=2,t.btnBlue.x=428,t.btnBlue.y=1010,t.btnBlue.name="btnBlue",t.btnBlue.touchEnabled=!1,a.addChild(t.btnBlue),t.btnBlue.addEventListener(egret.TouchEvent.TOUCH_TAP,a.remoteBlueBtnPress,a),t.btnBlue.timeScale=2,t.btnBlue.play("btnBlueNormal",0),t.btnDeath=AssetManager.getDBArmature("PR_btnDeathDB"),t.btnDeath.timeScale=4,t.btnDeath.x=320,t.btnDeath.y=1210,t.btnDeath.alpha=0,t.btnDeath.name="btnDeath",a.addChild(t.btnDeath),t.btnDeath.touchEnabled=!1,t.btnDeath.addEventListener(egret.TouchEvent.TOUCH_TAP,a.remoteDeathBtnPress,a),t.btnDeath.timeScale=3,t.btnDeath.play("btnDeathNormal",0),t.part_you=AssetManager.getBitmap("PR_glaryAngle_png",!0,!1),t.part_you.x=320,t.part_you.y=526,t.part_you.anchorOffsetY=0,t.part_you.name="part_you",t.part_you.rotation=t.partRotation[0],a.addChild(t.part_you),t.part_other=AssetManager.getBitmap("PR_glaryAngle_png",!0,!1),t.part_other.x=320,t.part_other.y=526,t.part_other.anchorOffsetY=0,t.part_other.name="part_other",t.part_other.rotation=t.partRotation[8],a.addChild(t.part_other),t.role_you=AssetManager.getDBArmature("Armature"),t.role_you.timeScale=2,t.role_you.x=320,t.role_you.y=526,t.role_you.anchorOffsetX=64,t.role_you.anchorOffsetY=0,t.role_you.rotation=t.partRotation[0],t.role_you.name="role_you",a.addChild(t.role_you),t.role_you.play("zhuli2",0),t.roleYouRotation=t.partRotation[0],t.role_other=AssetManager.getDBArmature("Armature"),t.role_other.timeScale=2,t.role_other.x=320,t.role_other.y=526,t.role_other.anchorOffsetX=64,t.role_other.anchorOffsetY=0,t.role_other.rotation=t.partRotation[8],t.role_other.name="role_other",a.addChild(t.role_other),t.role_other.play("zhuli1",0),t.roleOtherRotation=t.partRotation[8];var P=RES.getRes("PR_smoke_png"),T=RES.getRes("PR_smoke_json");t.particleSmoke=new particle.GravityParticleSystem(P,T),a.addChild(t.particleSmoke);var C=RES.getRes("PR_stars_png"),v=RES.getRes("PR_stars_json");t.particleStars=new particle.GravityParticleSystem(C,v),a.addChild(t.particleStars),t.role_you||console.error("============> GamePigRunMainScene.role_you: "+t.role_you),t.role_other||console.error("============> GamePigRunMainScene.role_other: "+t.role_other);var G,M=DataCenter.instance.user;G=new RoleAvatar(M.curAvatarType,M.imgUrl),G.armature||console.error("============> myRoleAvatar.armature: "+G.armature),t.role_you._armature.getSlot("ren").childArmature=G.armature._armature;var f,B=DataCenter.instance.room.player;if(f=new RoleAvatar(B.curAvatarType,B.imgUrl),f.armature||console.error("============> otherRoleAvatar.armature: "+f.armature),t.role_other._armature.getSlot("ren").childArmature=f.armature._armature,!App.IsXiaoMi&&!App.IsWanba){var S=AssetManager.getBitmap("goBack_png",!1,!1);S.y=19,a.addChild(S),S.touchEnabled=!0,S.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){a.popup("GameSureLeave")},a)}if(t.roundText=AssetManager.getBitmap("PR_round1_png",!0,!0),t.roundText.x=320,t.roundText.y=522,t.roundText.name="roundText",a.addChild(t.roundText),t.tipsCover=AssetManager.getDBArmature("pigD"),t.tipsCover.x=312,t.tipsCover.y=1145,t.tipsCover.name="tipsCover",a.addChild(t.tipsCover),t.tipsCover.play("Prompt1",0),t.resultText=AssetManager.getBitmap("PR_win_png",!0,!1),t.resultText.width=231,t.resultText.height=73,t.resultText.x=320,t.resultText.y=812,t.resultText.alpha=0,t.resultText.name="resultText",a.addChild(t.resultText),t.koText=AssetManager.getBitmap("PR_KO_png",!0,!0),t.koText.width=452,t.koText.height=282,t.koText.x=320,t.koText.y=525,t.koText.alpha=0,t.koText.name="koText",a.addChild(t.koText),t.boomSmoke=AssetManager.getDBArmature("boom"),t.boomSmoke.x=0,t.boomSmoke.y=0,t.boomSmoke.name="boom",a.addChild(t.boomSmoke),t.volume_you=new SoundEffects,t.volume_you.setVolume(.7),t.volume_other=new SoundEffects,t.volume_other.setVolume(.7),t.volume_global=new SoundEffects,t.volume_global.setVolume(.7),a.initNormalColor(),App.MessageCenter.addListener(EventMessage.ReceiveGameEventS2C,a.messageDuel,a),App.MessageCenter.addListener(EventMessage.ReceiveGameResultS2C,a.resultDuel,a),App.MessageCenter.addListener(EventMessage.pauseMessage,a.pauseCallback,a),a.stage.stageHeight<1136){t.multiple=a.stage.stageHeight/1136,a.scaleX=t.multiple,a.scaleY=t.multiple;
var L=640*t.multiple;a.x=(640-L)/2}else a.stage.stageHeight>1136&&(a.y=(a.stage.stageHeight-1136)/2);a.gameStartManager()},DataCenter.instance.room.IsAI&&(GamePigRunLogic.isOffline=!0),t.instance=a,egret.lifecycle.onPause=function(){App.SoundManager.setBgOn(!1),App.SoundManager.setEffectOn(!1),console.log("PAUSE!"),t.volume_global&&t.volume_global.setVolume(0),t.volume_other&&t.volume_other.setVolume(0),t.volume_you&&t.volume_you.setVolume(0)},egret.lifecycle.onResume=function(){App.SoundManager.setBgOn(!0),App.SoundManager.setEffectOn(!0),console.log("RESUME!"),t.volume_global&&t.volume_global.setVolume(.7),t.volume_other&&t.volume_other.setVolume(.7),t.volume_you&&t.volume_you.setVolume(.7)},a}return __extends(t,e),t.prototype.init=function(){DataCenter.instance.room.IsAI&&(GamePigRunLogic.isOffline=!0);try{this.gameStart()}catch(e){egret.error(e)}App.SoundManager.stopBg(),App.SoundManager.playBg("PR_music_normal_mp3")},t.prototype.dispose=function(){egret.stopTick(this.circleLogic,this),egret.stopTick(this.readyTick,this),t.role_you&&t.role_you.stop(),t.role_other&&t.role_other.stop(),t.tipsCover&&t.tipsCover.stop(),App.MessageCenter.removeListener(EventMessage.ReceiveGameEventS2C,this.messageDuel,this),App.MessageCenter.removeListener(EventMessage.ReceiveGameResultS2C,this.resultDuel,this),App.MessageCenter.removeListener(EventMessage.pauseMessage,this.pauseCallback,this),this.getChildByName("btnRed").removeEventListener(egret.TouchEvent.TOUCH_TAP,t.redBtnPress,this),this.getChildByName("btnBlue").removeEventListener(egret.TouchEvent.TOUCH_TAP,t.blueBtnPress,this),App.SoundManager.stopBg(),this.getChildByName("btnRed").touchEnabled=!1,this.getChildByName("btnBlue").touchEnabled=!1,this.getChildByName("btnDeath").touchEnabled=!1,t.result=void 0,GamePigRunLogic.logicLocalColor=void 0,GamePigRunLogic.keyPress=void 0,GamePigRunLogic.orderNum=-1,GamePigRunLogic.otherOrderNum=8,GamePigRunLogic.whoWillWin=void 0,GamePigRunLogic.colorSettings=[],GamePigRunLogic.wrongSwitcher=!1,GamePigRunLogic.gameModeisDeathMode=!1,GamePigRunLogic.isOffline=!1,GamePigRunLogic.colorOtherSettings=[],t.borderRotation=void 0,t.roleYouRotation=void 0,t.roleOtherRotation=void 0,t.multiple=void 0,t.volume_you=void 0,t.volume_other=void 0,t.volume_global=void 0,t.btnRed=void 0,t.btnBlue=void 0,t.btnDeath=void 0,t.gameTurns=0,t.tipsSwitcher=0,t.mark_you=0,t.mark_other=0,t.roundText=void 0,t.resultText=void 0,t.koText=void 0,t.hasInDeathMode=!1,t.scenceMask=void 0,t.effectTimer=void 0,t.effectCounter=0,t.part_you=void 0,t.part_other=void 0,t.boomSmoke=void 0,t.ai=0,t.tipsCover=void 0,t.target=-180,t.youTarget=0,t.readyIMG&&(t.readyIMG.dispose(),t.readyIMG=void 0),t.instance=null,t.keyState=0,App.TimerManager.removeAll(this)},t.partRotation=[0,-22.5,-45,-67.5,-90,-112.5,-135,-157.5,-180,-202.5,-225,-247.5,-270,-292.5,-315,-337.5],t.running=!0,t.gameTurns=0,t.tipsSwitcher=0,t.mark_you=0,t.mark_other=0,t.hasInDeathMode=!1,t.effectCounter=0,t.ai=0,t.target=-180,t.youTarget=0,t.keyState=0,t.particleManager=function(e,a){var o,r,n=GamePigRunLogic.keyPress;switch(n){case"blue":o=520,r=980;break;case"yellow":o=310,r=980;break;case"red":o=100,r=980;break;case"death":o=310,r=980}switch(e){case"smoke":t.particleSmoke.emitterX=o,t.particleSmoke.emitterY=r,t.particleSmoke.start(a);break;case"stars":t.particleStars.emitterX=o,t.particleStars.emitterY=r,t.particleStars.start(a);break;case"death":t.particleStars.emitterX=o,t.particleStars.emitterY=r,t.particleStars.start(a)}},t.handlePress=function(){void 0!=GamePigRunLogic.logicLocalColor&&GamePigRunLogic.logicLocalColor==GamePigRunLogic.keyPress?(t.youTarget-=22.5,t.particleManager("stars",.5),t.volume_global.play("PR_pressRight_mp3",!0),GamePigRunLogic.logicLocalColor=void 0,GamePigRunLogic.keyPress=void 0,t.instance.colorStepManager(),0==GamePigRunLogic.isOffline&&GamePigRunLogic.localMessageCenter(GamePigRunEventClass.EVENT_OTHER_DO),t.keyState=0):void 0!=GamePigRunLogic.keyPress&&GamePigRunLogic.logicLocalColor!=GamePigRunLogic.keyPress&&(t.particleManager("smoke",.3),t.volume_global.play("PR_pressWrong_mp3",!0),GamePigRunLogic.keyPress=void 0,t.instance.wrongPressDeal())},t.redBtnPress=function(){0==t.tipsSwitcher&&(t.tipsSwitcher=1),1!=t.keyState&&(t.keyState=1,GamePigRunLogic.keyPress="red",t.handlePress(),t.instance.gameResultCheck(),(void 0==GamePigRunLogic.keyPress||GamePigRunLogic.logicLocalColor==GamePigRunLogic.keyPress)&&(t.btnRed&&(t.btnRed.stop(),t.btnRed.play("btnRedPress",1),App.TimerManager.doTimer(35,1,function(){t.btnRed&&(t.btnRed.stop(),0==GamePigRunLogic.wrongSwitcher?t.btnRed.play("btnRedNormal",0):t.btnRed.play("btnRedeWrong",0))},t)),t.btnRed.touchEnabled=!1,App.TimerManager.doTimer(50,1,function(){t.btnRed.touchEnabled=!0},t)))},t.blueBtnPress=function(){0==t.tipsSwitcher&&(t.tipsSwitcher=1),1!=t.keyState&&(t.keyState=1,GamePigRunLogic.keyPress="blue",t.handlePress(),t.instance.gameResultCheck(),(void 0==GamePigRunLogic.keyPress||GamePigRunLogic.logicLocalColor==GamePigRunLogic.keyPress)&&(t.btnBlue&&(t.btnBlue.stop(),t.btnBlue.play("btnBluePress",1),App.TimerManager.doTimer(35,1,function(){t.btnBlue&&(t.btnBlue.stop(),0==GamePigRunLogic.wrongSwitcher?t.btnBlue.play("btnBlueNormal",0):t.btnBlue.play("btnBlueWrong",0))},t)),t.btnBlue.touchEnabled=!1,App.TimerManager.doTimer(50,1,function(){t.btnBlue.touchEnabled=!0},t)))},t.deathBtnPress=function(){0==t.tipsSwitcher&&(t.tipsSwitcher=1),GamePigRunLogic.keyPress="death",t.btnDeath&&(t.btnDeath.stop(),t.btnDeath.play("btnDeathPress",1),App.TimerManager.doTimer(110,1,function(){t.btnDeath&&(t.btnDeath.stop(),t.btnDeath.play("btnDeathNormal",0))},t))},t}(State);__reflect(GamePigRunMainScene.prototype,"GamePigRunMainScene");